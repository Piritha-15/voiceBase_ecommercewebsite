{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJECT1\\\\frontend\\\\src\\\\components\\\\BasicVoiceButton.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useVoiceNarration } from '../context/VoiceNarrationContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BasicVoiceButton = () => {\n  _s();\n  const [isVoiceActive, setIsVoiceActive] = useState(false);\n  const [isCurrentlyListening, setIsCurrentlyListening] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [recognition, setRecognition] = useState(null);\n  const [lastCommand, setLastCommand] = useState('');\n  const [status, setStatus] = useState('Ready');\n  const [restartTimeout, setRestartTimeout] = useState(null);\n  const navigate = useNavigate();\n  const {\n    isNarrationEnabled,\n    toggleNarration,\n    narrateAction\n  } = useVoiceNarration();\n\n  // Comprehensive voice recognition test\n  const testVoiceRecognition = () => {\n    console.log('üé§ COMPREHENSIVE VOICE RECOGNITION TEST...');\n    if (!recognition) {\n      alert('‚ùå Voice recognition not supported. Please use Chrome browser.');\n      return;\n    }\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      alert('‚ùå Microphone access not supported in this browser.');\n      return;\n    }\n\n    // Test microphone access\n    navigator.mediaDevices.getUserMedia({\n      audio: true\n    }).then(() => {\n      console.log('‚úÖ Microphone access granted');\n\n      // Setup test recognition\n      const testRecognition = new window.webkitSpeechRecognition();\n      testRecognition.continuous = false;\n      testRecognition.interimResults = false;\n      testRecognition.lang = 'en-US';\n      testRecognition.onstart = () => {\n        console.log('‚úÖ VOICE RECOGNITION TEST STARTED');\n        alert('Voice recognition test started. Say \"hello\" now.');\n      };\n      testRecognition.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        const confidence = event.results[0][0].confidence;\n        console.log('‚úÖ VOICE RECOGNITION SUCCESS:', transcript, confidence);\n        alert(`Voice recognition working! Heard: \"${transcript}\" (confidence: ${confidence.toFixed(2)})`);\n      };\n      testRecognition.onerror = event => {\n        console.error('‚ùå VOICE RECOGNITION ERROR:', event.error);\n        alert(`Voice recognition error: ${event.error}`);\n      };\n      testRecognition.onend = () => {\n        console.log('üîö Voice recognition test ended');\n      };\n      try {\n        testRecognition.start();\n      } catch (error) {\n        console.error('‚ùå Error starting voice recognition test:', error);\n        alert(`Error starting voice recognition: ${error.message}`);\n      }\n    }).catch(error => {\n      console.error('‚ùå Microphone access denied:', error);\n      alert('‚ùå Microphone access denied. Please allow microphone access and try again.');\n    });\n  };\n\n  // Initialize speech recognition and synthesis\n  useEffect(() => {\n    console.log('üé§ Initializing Voice System...');\n\n    // Check speech recognition\n    if ('webkitSpeechRecognition' in window) {\n      const recognitionInstance = new window.webkitSpeechRecognition();\n      recognitionInstance.continuous = true; // Enable continuous recognition\n      recognitionInstance.interimResults = false;\n      recognitionInstance.lang = 'en-US';\n      console.log('‚úÖ Speech Recognition initialized for continuous mode');\n      setRecognition(recognitionInstance);\n    } else {\n      console.error('‚ùå Speech Recognition not supported');\n      setStatus('Recognition Not Supported');\n      return;\n    }\n\n    // Check speech synthesis\n    if ('speechSynthesis' in window) {\n      console.log('‚úÖ Speech Synthesis available');\n\n      // Load voices\n      const loadVoices = () => {\n        const voices = window.speechSynthesis.getVoices();\n        console.log('üé§ Loaded voices:', voices.length);\n        if (voices.length > 0) {\n          setStatus('Voice Ready - Narration Auto-Enabled');\n        } else {\n          setStatus('Loading voices...');\n        }\n      };\n\n      // Load voices immediately if available\n      loadVoices();\n\n      // Also listen for voice loading event\n      window.speechSynthesis.onvoiceschanged = loadVoices;\n    } else {\n      console.error('‚ùå Speech Synthesis not supported');\n      setStatus('Speech Not Supported');\n    }\n  }, []);\n\n  // Coordinated speech synthesis that pauses voice recognition\n  const speak = text => {\n    console.log('üîä ATTEMPTING TO SPEAK:', text);\n    if (!text || text.trim() === '') {\n      console.log('‚ùå Empty text, skipping speech');\n      return;\n    }\n    if (!('speechSynthesis' in window)) {\n      console.error('‚ùå Speech synthesis not supported');\n      return;\n    }\n\n    // PAUSE voice recognition during speech to prevent interruption\n    if (isVoiceActive && recognition) {\n      console.log('‚è∏Ô∏è Pausing voice recognition for speech...');\n      try {\n        recognition.stop();\n        setIsCurrentlyListening(false);\n      } catch (error) {\n        console.log('Note: Could not pause recognition:', error.message);\n      }\n    }\n    setIsSpeaking(true);\n    try {\n      // Cancel any ongoing speech\n      window.speechSynthesis.cancel();\n\n      // Create utterance\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.9;\n      utterance.pitch = 1.0;\n      utterance.volume = 1.0;\n      utterance.lang = 'en-US';\n\n      // Get best available voice\n      const voices = window.speechSynthesis.getVoices();\n      if (voices.length > 0) {\n        const englishVoice = voices.find(voice => voice.lang.startsWith('en')) || voices[0];\n        utterance.voice = englishVoice;\n        console.log('üé§ Using voice:', englishVoice.name);\n      }\n\n      // Handle speech events\n      utterance.onstart = () => {\n        console.log('‚úÖ SPEECH STARTED');\n        setStatus('üîä Speaking...');\n      };\n      utterance.onend = () => {\n        console.log('‚úÖ SPEECH COMPLETED');\n        setIsSpeaking(false);\n\n        // RESUME voice recognition after speech completes\n        if (isVoiceActive) {\n          console.log('‚ñ∂Ô∏è Resuming voice recognition after speech...');\n          setTimeout(() => {\n            if (isVoiceActive && recognition) {\n              try {\n                recognition.start();\n              } catch (error) {\n                console.log('Note: Could not resume recognition:', error.message);\n              }\n            }\n          }, 500); // Wait 500ms before resuming\n        }\n      };\n      utterance.onerror = event => {\n        console.error('‚ùå SPEECH ERROR:', event.error);\n        setIsSpeaking(false);\n\n        // Resume voice recognition even on error\n        if (isVoiceActive) {\n          setTimeout(() => {\n            if (isVoiceActive && recognition) {\n              try {\n                recognition.start();\n              } catch (error) {\n                console.log('Note: Could not resume recognition after error:', error.message);\n              }\n            }\n          }, 500);\n        }\n      };\n      console.log('üîä STARTING SPEECH:', text);\n      window.speechSynthesis.speak(utterance);\n    } catch (error) {\n      console.error('‚ùå SPEECH SYNTHESIS ERROR:', error);\n      setIsSpeaking(false);\n\n      // Resume voice recognition on error\n      if (isVoiceActive) {\n        setTimeout(() => {\n          if (isVoiceActive && recognition) {\n            try {\n              recognition.start();\n            } catch (error) {\n              console.log('Note: Could not resume recognition after synthesis error:', error.message);\n            }\n          }\n        }, 500);\n      }\n    }\n  };\n\n  // Process voice commands with audio feedback\n  const processCommand = transcript => {\n    console.log('üéØ Processing command:', transcript);\n    const command = transcript.toLowerCase().trim();\n    setLastCommand(transcript);\n    setStatus(`Heard: \"${transcript}\"`);\n\n    // Test commands\n    if (command.includes('hello') || command.includes('test')) {\n      console.log('‚úÖ Test command recognized');\n      setStatus('‚úÖ Voice Working!');\n      speak('Hello! Voice recognition is working perfectly!');\n      return;\n    }\n\n    // Navigation commands\n    if (command.includes('home')) {\n      console.log('üè† Navigating to home');\n      setStatus('Going to home');\n      speak('Going to home page');\n      setTimeout(() => navigate('/'), 1000);\n      return;\n    }\n    if (command.includes('cart')) {\n      console.log('üõí Navigating to cart');\n      setStatus('Opening cart');\n      speak('Opening your shopping cart');\n      setTimeout(() => navigate('/cart'), 1000);\n      return;\n    }\n\n    // Search commands\n    if (command.includes('search') || command.includes('find')) {\n      let searchTerm = '';\n      if (command.includes('search for')) {\n        searchTerm = command.replace('search for', '').trim();\n      } else if (command.includes('find')) {\n        searchTerm = command.replace('find', '').trim();\n      } else if (command.includes('search')) {\n        searchTerm = command.replace('search', '').trim();\n      }\n      if (searchTerm) {\n        console.log('üîç Searching for:', searchTerm);\n        setStatus(`Searching: ${searchTerm}`);\n        speak(`Searching for ${searchTerm}`);\n        setTimeout(() => navigate(`/?search=${encodeURIComponent(searchTerm)}`), 1000);\n      } else {\n        setStatus('What to search?');\n        speak('What would you like to search for?');\n      }\n      return;\n    }\n\n    // Category navigation\n    if (command.includes('health')) {\n      console.log('üè• Opening health category');\n      setStatus('Health category');\n      speak('Opening health products category');\n      setTimeout(() => navigate('/category/health'), 1000);\n      return;\n    }\n    if (command.includes('nutrition')) {\n      console.log('ü•ó Opening nutrition category');\n      setStatus('Nutrition category');\n      speak('Opening nutrition products category');\n      setTimeout(() => navigate('/category/nutrition'), 1000);\n      return;\n    }\n\n    // Help command\n    if (command.includes('help')) {\n      console.log('‚ùì Help requested');\n      setStatus('Help available');\n      speak('You can say: hello, go home, show cart, search for vitamins, health category, or nutrition category');\n      return;\n    }\n\n    // Default response\n    console.log('‚ùì Unknown command:', command);\n    setStatus(`Unknown: \"${transcript}\"`);\n    speak(`I heard ${transcript}, but I don't understand that command. Try saying hello, go home, show cart, or search for something.`);\n  };\n\n  // Smart continuous voice recognition that coordinates with speech\n  const setupContinuousRecognition = () => {\n    if (!recognition) return;\n    recognition.onstart = () => {\n      console.log('‚úÖ Voice recognition started');\n      setIsCurrentlyListening(true);\n      if (!isSpeaking) {\n        setStatus('üé§ Always Listening...');\n      }\n    };\n    recognition.onresult = event => {\n      console.log('üìù Voice result received');\n      if (event.results && event.results.length > 0) {\n        const transcript = event.results[0][0].transcript;\n        const confidence = event.results[0][0].confidence;\n        console.log('üìù Transcript:', transcript, 'Confidence:', confidence);\n\n        // Only process if not currently speaking\n        if (!isSpeaking) {\n          processCommand(transcript);\n        } else {\n          console.log('‚è∏Ô∏è Ignoring command during speech output');\n        }\n      }\n    };\n    recognition.onerror = event => {\n      console.error('‚ùå Voice recognition error:', event.error);\n      setIsCurrentlyListening(false);\n\n      // Only restart if not speaking and voice is still active\n      if (isVoiceActive && !isSpeaking && event.error !== 'aborted') {\n        console.log('üîÑ Restarting recognition after error...');\n        if (restartTimeout) clearTimeout(restartTimeout);\n        const timeout = setTimeout(() => {\n          if (isVoiceActive && !isSpeaking) {\n            try {\n              recognition.start();\n            } catch (error) {\n              console.log('Could not restart recognition:', error.message);\n            }\n          }\n        }, 1000);\n        setRestartTimeout(timeout);\n      }\n    };\n    recognition.onend = () => {\n      console.log('üîö Voice recognition ended');\n      setIsCurrentlyListening(false);\n\n      // Only restart if voice is active and not speaking\n      if (isVoiceActive && !isSpeaking) {\n        console.log('üîÑ Auto-restarting recognition...');\n        if (restartTimeout) clearTimeout(restartTimeout);\n        const timeout = setTimeout(() => {\n          if (isVoiceActive && !isSpeaking) {\n            try {\n              recognition.start();\n            } catch (error) {\n              console.log('Could not restart recognition:', error.message);\n            }\n          }\n        }, 300);\n        setRestartTimeout(timeout);\n      } else if (!isVoiceActive) {\n        setStatus('Voice OFF');\n      }\n    };\n  };\n\n  // Toggle voice recognition ON/OFF with proper coordination\n  const toggleVoiceRecognition = async () => {\n    console.log('üé§ Voice toggle clicked');\n    if (!recognition) {\n      const msg = 'Voice recognition not supported. Please use Chrome browser.';\n      speak(msg);\n      return;\n    }\n    if (isVoiceActive) {\n      // Turn OFF voice recognition\n      console.log('üîá Turning OFF continuous voice recognition');\n      setIsVoiceActive(false);\n      setIsCurrentlyListening(false);\n\n      // Clear any restart timeouts\n      if (restartTimeout) {\n        clearTimeout(restartTimeout);\n        setRestartTimeout(null);\n      }\n\n      // Stop recognition\n      try {\n        recognition.stop();\n        recognition.abort();\n      } catch (error) {\n        console.log('Note: Error stopping recognition:', error.message);\n      }\n      setStatus('Voice OFF');\n      speak('Voice recognition turned off');\n    } else {\n      // Turn ON voice recognition\n      console.log('üîä Turning ON continuous voice recognition');\n      try {\n        // Request microphone permission\n        await navigator.mediaDevices.getUserMedia({\n          audio: true\n        });\n        console.log('‚úÖ Microphone permission granted');\n      } catch (error) {\n        console.error('‚ùå Microphone permission denied:', error);\n        const msg = 'Please allow microphone access to use voice commands.';\n        speak(msg);\n        return;\n      }\n      setIsVoiceActive(true);\n      setStatus('Activating...');\n\n      // Setup continuous recognition\n      setupContinuousRecognition();\n\n      // Speak activation message and start recognition after speech\n      speak('Voice recognition activated. I am now listening for your commands.');\n\n      // The recognition will start automatically after speech ends\n      // due to the coordination in the speak() function\n    }\n  };\n  if (!recognition) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        bottom: '20px',\n        right: '20px',\n        zIndex: 1000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#ff6b6b',\n          color: 'white',\n          padding: '12px',\n          borderRadius: '8px',\n          fontSize: '14px'\n        },\n        children: [\"Voice not supported.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 31\n        }, this), \"Please use Chrome browser.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Comprehensive test speech function\n  const testSpeech = () => {\n    console.log('üîä COMPREHENSIVE SPEECH TEST...');\n\n    // Check browser support\n    if (!('speechSynthesis' in window)) {\n      alert('‚ùå Speech synthesis not supported. Please use Chrome browser.');\n      return;\n    }\n\n    // Check voices\n    const voices = window.speechSynthesis.getVoices();\n    console.log('üé§ SPEECH DIAGNOSTICS:');\n    console.log('- Available voices:', voices.length);\n    console.log('- Narration enabled:', isNarrationEnabled);\n    console.log('- Speech synthesis speaking:', window.speechSynthesis.speaking);\n    console.log('- Speech synthesis pending:', window.speechSynthesis.pending);\n    if (voices.length === 0) {\n      console.log('‚ö†Ô∏è No voices loaded, trying to load...');\n      // Try to trigger voice loading\n      window.speechSynthesis.getVoices();\n      setTimeout(() => {\n        const newVoices = window.speechSynthesis.getVoices();\n        console.log('üé§ Voices after reload:', newVoices.length);\n        if (newVoices.length > 0) {\n          testActualSpeech();\n        } else {\n          alert('‚ùå No voices available. Please refresh the page and try again.');\n        }\n      }, 1000);\n    } else {\n      testActualSpeech();\n    }\n  };\n\n  // Test actual speech synthesis\n  const testActualSpeech = () => {\n    console.log('üîä TESTING ACTUAL SPEECH...');\n    try {\n      // Force cancel any ongoing speech\n      window.speechSynthesis.cancel();\n      const testText = 'Testing speech synthesis. Can you hear this message clearly?';\n      const utterance = new SpeechSynthesisUtterance(testText);\n      utterance.rate = 1.0;\n      utterance.pitch = 1.0;\n      utterance.volume = 1.0;\n      utterance.lang = 'en-US';\n      const voices = window.speechSynthesis.getVoices();\n      if (voices.length > 0) {\n        utterance.voice = voices[0];\n        console.log('üé§ Using voice:', voices[0].name);\n      }\n      utterance.onstart = () => {\n        console.log('‚úÖ SPEECH TEST STARTED SUCCESSFULLY');\n      };\n      utterance.onend = () => {\n        console.log('‚úÖ SPEECH TEST COMPLETED SUCCESSFULLY');\n      };\n      utterance.onerror = event => {\n        console.error('‚ùå SPEECH TEST ERROR:', event.error);\n        alert(`Speech test failed: ${event.error}`);\n      };\n      console.log('üîä STARTING SPEECH TEST...');\n      window.speechSynthesis.speak(utterance);\n    } catch (error) {\n      console.error('‚ùå SPEECH TEST EXCEPTION:', error);\n      alert(`Speech test exception: ${error.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      bottom: '20px',\n      right: '20px',\n      zIndex: 1000\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: testNarration,\n      style: {\n        position: 'absolute',\n        bottom: '130px',\n        right: '0px',\n        width: '40px',\n        height: '30px',\n        borderRadius: '15px',\n        backgroundColor: '#9C27B0',\n        color: 'white',\n        border: 'none',\n        fontSize: '12px',\n        cursor: 'pointer',\n        boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)'\n      },\n      title: \"Test narration system\",\n      children: \"\\uD83C\\uDFB5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleNarration,\n      style: {\n        position: 'absolute',\n        bottom: '100px',\n        right: '0px',\n        width: '40px',\n        height: '30px',\n        borderRadius: '15px',\n        backgroundColor: isNarrationEnabled ? '#FF9800' : '#666',\n        color: 'white',\n        border: 'none',\n        fontSize: '12px',\n        cursor: 'pointer',\n        boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)'\n      },\n      title: isNarrationEnabled ? 'Turn OFF action narration' : 'Turn ON action narration',\n      children: isNarrationEnabled ? 'üì¢' : 'üîá'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: testSpeech,\n      style: {\n        position: 'absolute',\n        bottom: '70px',\n        right: '0px',\n        width: '40px',\n        height: '30px',\n        borderRadius: '15px',\n        backgroundColor: '#4CAF50',\n        color: 'white',\n        border: 'none',\n        fontSize: '12px',\n        cursor: 'pointer',\n        boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)'\n      },\n      title: \"Test speech output\",\n      children: \"\\uD83D\\uDD0A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleVoiceRecognition,\n      style: {\n        width: '60px',\n        height: '60px',\n        borderRadius: '50%',\n        backgroundColor: isVoiceActive ? '#4CAF50' : '#666',\n        color: 'white',\n        border: isVoiceActive ? '3px solid #2E7D32' : '3px solid #444',\n        fontSize: '24px',\n        cursor: 'pointer',\n        boxShadow: isVoiceActive ? '0 4px 15px rgba(76, 175, 80, 0.4)' : '0 4px 12px rgba(0, 0, 0, 0.15)',\n        animation: isCurrentlyListening ? 'pulse 1s infinite' : 'none',\n        transition: 'all 0.3s ease'\n      },\n      title: isVoiceActive ? 'Click to turn OFF voice recognition' : 'Click to turn ON continuous voice recognition',\n      children: isVoiceActive ? 'üé§' : 'üîá'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '70px',\n        right: '0px',\n        background: isVoiceActive ? '#E8F5E8' : 'white',\n        padding: '6px 10px',\n        borderRadius: '6px',\n        boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n        fontSize: '11px',\n        whiteSpace: 'nowrap',\n        maxWidth: '200px',\n        textAlign: 'center',\n        border: isVoiceActive ? '1px solid #4CAF50' : '1px solid #ddd',\n        color: isVoiceActive ? '#2E7D32' : '#333'\n      },\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 7\n    }, this), isVoiceActive && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '100px',\n        right: '0px',\n        background: isCurrentlyListening ? '#4CAF50' : '#FFC107',\n        color: 'white',\n        padding: '4px 8px',\n        borderRadius: '4px',\n        fontSize: '10px',\n        fontWeight: 'bold',\n        textAlign: 'center',\n        animation: isCurrentlyListening ? 'pulse 1s infinite' : 'none'\n      },\n      children: isCurrentlyListening ? 'üé§ LISTENING' : '‚è∏Ô∏è READY'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 9\n    }, this), lastCommand && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: isVoiceActive ? '130px' : '100px',\n        right: '0px',\n        background: '#e8f5e8',\n        padding: '4px 8px',\n        borderRadius: '4px',\n        fontSize: '10px',\n        maxWidth: '150px',\n        wordBreak: 'break-word',\n        border: '1px solid #4CAF50'\n      },\n      children: [\"Last: \\\"\", lastCommand, \"\\\"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 678,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        @keyframes pulse {\n          0% { transform: scale(1); }\n          50% { transform: scale(1.1); }\n          100% { transform: scale(1); }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 694,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 550,\n    columnNumber: 5\n  }, this);\n};\n_s(BasicVoiceButton, \"ghBYnRqUKbkcREbWSpZUW1WFMWk=\", false, function () {\n  return [useNavigate, useVoiceNarration];\n});\n_c = BasicVoiceButton;\nexport default BasicVoiceButton;\nvar _c;\n$RefreshReg$(_c, \"BasicVoiceButton\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useVoiceNarration","jsxDEV","_jsxDEV","BasicVoiceButton","_s","isVoiceActive","setIsVoiceActive","isCurrentlyListening","setIsCurrentlyListening","isSpeaking","setIsSpeaking","recognition","setRecognition","lastCommand","setLastCommand","status","setStatus","restartTimeout","setRestartTimeout","navigate","isNarrationEnabled","toggleNarration","narrateAction","testVoiceRecognition","console","log","alert","navigator","mediaDevices","getUserMedia","audio","then","testRecognition","window","webkitSpeechRecognition","continuous","interimResults","lang","onstart","onresult","event","transcript","results","confidence","toFixed","onerror","error","onend","start","message","catch","recognitionInstance","loadVoices","voices","speechSynthesis","getVoices","length","onvoiceschanged","speak","text","trim","stop","cancel","utterance","SpeechSynthesisUtterance","rate","pitch","volume","englishVoice","find","voice","startsWith","name","setTimeout","processCommand","command","toLowerCase","includes","searchTerm","replace","encodeURIComponent","setupContinuousRecognition","clearTimeout","timeout","toggleVoiceRecognition","msg","abort","style","position","bottom","right","zIndex","children","background","color","padding","borderRadius","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","testSpeech","speaking","pending","newVoices","testActualSpeech","testText","onClick","testNarration","width","height","backgroundColor","border","cursor","boxShadow","title","animation","transition","whiteSpace","maxWidth","textAlign","fontWeight","wordBreak","jsx","_c","$RefreshReg$"],"sources":["D:/PROJECT1/frontend/src/components/BasicVoiceButton.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useVoiceNarration } from '../context/VoiceNarrationContext';\r\n\r\nconst BasicVoiceButton = () => {\r\n  const [isVoiceActive, setIsVoiceActive] = useState(false);\r\n  const [isCurrentlyListening, setIsCurrentlyListening] = useState(false);\r\n  const [isSpeaking, setIsSpeaking] = useState(false);\r\n  const [recognition, setRecognition] = useState(null);\r\n  const [lastCommand, setLastCommand] = useState('');\r\n  const [status, setStatus] = useState('Ready');\r\n  const [restartTimeout, setRestartTimeout] = useState(null);\r\n  const navigate = useNavigate();\r\n  const { isNarrationEnabled, toggleNarration, narrateAction } = useVoiceNarration();\r\n\r\n  // Comprehensive voice recognition test\r\n  const testVoiceRecognition = () => {\r\n    console.log('üé§ COMPREHENSIVE VOICE RECOGNITION TEST...');\r\n    \r\n    if (!recognition) {\r\n      alert('‚ùå Voice recognition not supported. Please use Chrome browser.');\r\n      return;\r\n    }\r\n\r\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\r\n      alert('‚ùå Microphone access not supported in this browser.');\r\n      return;\r\n    }\r\n\r\n    // Test microphone access\r\n    navigator.mediaDevices.getUserMedia({ audio: true })\r\n      .then(() => {\r\n        console.log('‚úÖ Microphone access granted');\r\n        \r\n        // Setup test recognition\r\n        const testRecognition = new window.webkitSpeechRecognition();\r\n        testRecognition.continuous = false;\r\n        testRecognition.interimResults = false;\r\n        testRecognition.lang = 'en-US';\r\n        \r\n        testRecognition.onstart = () => {\r\n          console.log('‚úÖ VOICE RECOGNITION TEST STARTED');\r\n          alert('Voice recognition test started. Say \"hello\" now.');\r\n        };\r\n        \r\n        testRecognition.onresult = (event) => {\r\n          const transcript = event.results[0][0].transcript;\r\n          const confidence = event.results[0][0].confidence;\r\n          console.log('‚úÖ VOICE RECOGNITION SUCCESS:', transcript, confidence);\r\n          alert(`Voice recognition working! Heard: \"${transcript}\" (confidence: ${confidence.toFixed(2)})`);\r\n        };\r\n        \r\n        testRecognition.onerror = (event) => {\r\n          console.error('‚ùå VOICE RECOGNITION ERROR:', event.error);\r\n          alert(`Voice recognition error: ${event.error}`);\r\n        };\r\n        \r\n        testRecognition.onend = () => {\r\n          console.log('üîö Voice recognition test ended');\r\n        };\r\n        \r\n        try {\r\n          testRecognition.start();\r\n        } catch (error) {\r\n          console.error('‚ùå Error starting voice recognition test:', error);\r\n          alert(`Error starting voice recognition: ${error.message}`);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('‚ùå Microphone access denied:', error);\r\n        alert('‚ùå Microphone access denied. Please allow microphone access and try again.');\r\n      });\r\n  };\r\n\r\n  // Initialize speech recognition and synthesis\r\n  useEffect(() => {\r\n    console.log('üé§ Initializing Voice System...');\r\n    \r\n    // Check speech recognition\r\n    if ('webkitSpeechRecognition' in window) {\r\n      const recognitionInstance = new window.webkitSpeechRecognition();\r\n      recognitionInstance.continuous = true; // Enable continuous recognition\r\n      recognitionInstance.interimResults = false;\r\n      recognitionInstance.lang = 'en-US';\r\n      \r\n      console.log('‚úÖ Speech Recognition initialized for continuous mode');\r\n      setRecognition(recognitionInstance);\r\n    } else {\r\n      console.error('‚ùå Speech Recognition not supported');\r\n      setStatus('Recognition Not Supported');\r\n      return;\r\n    }\r\n\r\n    // Check speech synthesis\r\n    if ('speechSynthesis' in window) {\r\n      console.log('‚úÖ Speech Synthesis available');\r\n      \r\n      // Load voices\r\n      const loadVoices = () => {\r\n        const voices = window.speechSynthesis.getVoices();\r\n        console.log('üé§ Loaded voices:', voices.length);\r\n        if (voices.length > 0) {\r\n          setStatus('Voice Ready - Narration Auto-Enabled');\r\n        } else {\r\n          setStatus('Loading voices...');\r\n        }\r\n      };\r\n\r\n      // Load voices immediately if available\r\n      loadVoices();\r\n      \r\n      // Also listen for voice loading event\r\n      window.speechSynthesis.onvoiceschanged = loadVoices;\r\n    } else {\r\n      console.error('‚ùå Speech Synthesis not supported');\r\n      setStatus('Speech Not Supported');\r\n    }\r\n  }, []);\r\n\r\n  // Coordinated speech synthesis that pauses voice recognition\r\n  const speak = (text) => {\r\n    console.log('üîä ATTEMPTING TO SPEAK:', text);\r\n    \r\n    if (!text || text.trim() === '') {\r\n      console.log('‚ùå Empty text, skipping speech');\r\n      return;\r\n    }\r\n\r\n    if (!('speechSynthesis' in window)) {\r\n      console.error('‚ùå Speech synthesis not supported');\r\n      return;\r\n    }\r\n\r\n    // PAUSE voice recognition during speech to prevent interruption\r\n    if (isVoiceActive && recognition) {\r\n      console.log('‚è∏Ô∏è Pausing voice recognition for speech...');\r\n      try {\r\n        recognition.stop();\r\n        setIsCurrentlyListening(false);\r\n      } catch (error) {\r\n        console.log('Note: Could not pause recognition:', error.message);\r\n      }\r\n    }\r\n\r\n    setIsSpeaking(true);\r\n\r\n    try {\r\n      // Cancel any ongoing speech\r\n      window.speechSynthesis.cancel();\r\n      \r\n      // Create utterance\r\n      const utterance = new SpeechSynthesisUtterance(text);\r\n      utterance.rate = 0.9;\r\n      utterance.pitch = 1.0;\r\n      utterance.volume = 1.0;\r\n      utterance.lang = 'en-US';\r\n      \r\n      // Get best available voice\r\n      const voices = window.speechSynthesis.getVoices();\r\n      if (voices.length > 0) {\r\n        const englishVoice = voices.find(voice => voice.lang.startsWith('en')) || voices[0];\r\n        utterance.voice = englishVoice;\r\n        console.log('üé§ Using voice:', englishVoice.name);\r\n      }\r\n\r\n      // Handle speech events\r\n      utterance.onstart = () => {\r\n        console.log('‚úÖ SPEECH STARTED');\r\n        setStatus('üîä Speaking...');\r\n      };\r\n      \r\n      utterance.onend = () => {\r\n        console.log('‚úÖ SPEECH COMPLETED');\r\n        setIsSpeaking(false);\r\n        \r\n        // RESUME voice recognition after speech completes\r\n        if (isVoiceActive) {\r\n          console.log('‚ñ∂Ô∏è Resuming voice recognition after speech...');\r\n          setTimeout(() => {\r\n            if (isVoiceActive && recognition) {\r\n              try {\r\n                recognition.start();\r\n              } catch (error) {\r\n                console.log('Note: Could not resume recognition:', error.message);\r\n              }\r\n            }\r\n          }, 500); // Wait 500ms before resuming\r\n        }\r\n      };\r\n      \r\n      utterance.onerror = (event) => {\r\n        console.error('‚ùå SPEECH ERROR:', event.error);\r\n        setIsSpeaking(false);\r\n        \r\n        // Resume voice recognition even on error\r\n        if (isVoiceActive) {\r\n          setTimeout(() => {\r\n            if (isVoiceActive && recognition) {\r\n              try {\r\n                recognition.start();\r\n              } catch (error) {\r\n                console.log('Note: Could not resume recognition after error:', error.message);\r\n              }\r\n            }\r\n          }, 500);\r\n        }\r\n      };\r\n\r\n      console.log('üîä STARTING SPEECH:', text);\r\n      window.speechSynthesis.speak(utterance);\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå SPEECH SYNTHESIS ERROR:', error);\r\n      setIsSpeaking(false);\r\n      \r\n      // Resume voice recognition on error\r\n      if (isVoiceActive) {\r\n        setTimeout(() => {\r\n          if (isVoiceActive && recognition) {\r\n            try {\r\n              recognition.start();\r\n            } catch (error) {\r\n              console.log('Note: Could not resume recognition after synthesis error:', error.message);\r\n            }\r\n          }\r\n        }, 500);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Process voice commands with audio feedback\r\n  const processCommand = (transcript) => {\r\n    console.log('üéØ Processing command:', transcript);\r\n    const command = transcript.toLowerCase().trim();\r\n    setLastCommand(transcript);\r\n    setStatus(`Heard: \"${transcript}\"`);\r\n\r\n    // Test commands\r\n    if (command.includes('hello') || command.includes('test')) {\r\n      console.log('‚úÖ Test command recognized');\r\n      setStatus('‚úÖ Voice Working!');\r\n      speak('Hello! Voice recognition is working perfectly!');\r\n      return;\r\n    }\r\n\r\n    // Navigation commands\r\n    if (command.includes('home')) {\r\n      console.log('üè† Navigating to home');\r\n      setStatus('Going to home');\r\n      speak('Going to home page');\r\n      setTimeout(() => navigate('/'), 1000);\r\n      return;\r\n    }\r\n\r\n    if (command.includes('cart')) {\r\n      console.log('üõí Navigating to cart');\r\n      setStatus('Opening cart');\r\n      speak('Opening your shopping cart');\r\n      setTimeout(() => navigate('/cart'), 1000);\r\n      return;\r\n    }\r\n\r\n    // Search commands\r\n    if (command.includes('search') || command.includes('find')) {\r\n      let searchTerm = '';\r\n      \r\n      if (command.includes('search for')) {\r\n        searchTerm = command.replace('search for', '').trim();\r\n      } else if (command.includes('find')) {\r\n        searchTerm = command.replace('find', '').trim();\r\n      } else if (command.includes('search')) {\r\n        searchTerm = command.replace('search', '').trim();\r\n      }\r\n\r\n      if (searchTerm) {\r\n        console.log('üîç Searching for:', searchTerm);\r\n        setStatus(`Searching: ${searchTerm}`);\r\n        speak(`Searching for ${searchTerm}`);\r\n        setTimeout(() => navigate(`/?search=${encodeURIComponent(searchTerm)}`), 1000);\r\n      } else {\r\n        setStatus('What to search?');\r\n        speak('What would you like to search for?');\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Category navigation\r\n    if (command.includes('health')) {\r\n      console.log('üè• Opening health category');\r\n      setStatus('Health category');\r\n      speak('Opening health products category');\r\n      setTimeout(() => navigate('/category/health'), 1000);\r\n      return;\r\n    }\r\n\r\n    if (command.includes('nutrition')) {\r\n      console.log('ü•ó Opening nutrition category');\r\n      setStatus('Nutrition category');\r\n      speak('Opening nutrition products category');\r\n      setTimeout(() => navigate('/category/nutrition'), 1000);\r\n      return;\r\n    }\r\n\r\n    // Help command\r\n    if (command.includes('help')) {\r\n      console.log('‚ùì Help requested');\r\n      setStatus('Help available');\r\n      speak('You can say: hello, go home, show cart, search for vitamins, health category, or nutrition category');\r\n      return;\r\n    }\r\n\r\n    // Default response\r\n    console.log('‚ùì Unknown command:', command);\r\n    setStatus(`Unknown: \"${transcript}\"`);\r\n    speak(`I heard ${transcript}, but I don't understand that command. Try saying hello, go home, show cart, or search for something.`);\r\n  };\r\n\r\n  // Smart continuous voice recognition that coordinates with speech\r\n  const setupContinuousRecognition = () => {\r\n    if (!recognition) return;\r\n\r\n    recognition.onstart = () => {\r\n      console.log('‚úÖ Voice recognition started');\r\n      setIsCurrentlyListening(true);\r\n      if (!isSpeaking) {\r\n        setStatus('üé§ Always Listening...');\r\n      }\r\n    };\r\n\r\n    recognition.onresult = (event) => {\r\n      console.log('üìù Voice result received');\r\n      \r\n      if (event.results && event.results.length > 0) {\r\n        const transcript = event.results[0][0].transcript;\r\n        const confidence = event.results[0][0].confidence;\r\n        console.log('üìù Transcript:', transcript, 'Confidence:', confidence);\r\n        \r\n        // Only process if not currently speaking\r\n        if (!isSpeaking) {\r\n          processCommand(transcript);\r\n        } else {\r\n          console.log('‚è∏Ô∏è Ignoring command during speech output');\r\n        }\r\n      }\r\n    };\r\n\r\n    recognition.onerror = (event) => {\r\n      console.error('‚ùå Voice recognition error:', event.error);\r\n      setIsCurrentlyListening(false);\r\n      \r\n      // Only restart if not speaking and voice is still active\r\n      if (isVoiceActive && !isSpeaking && event.error !== 'aborted') {\r\n        console.log('üîÑ Restarting recognition after error...');\r\n        if (restartTimeout) clearTimeout(restartTimeout);\r\n        const timeout = setTimeout(() => {\r\n          if (isVoiceActive && !isSpeaking) {\r\n            try {\r\n              recognition.start();\r\n            } catch (error) {\r\n              console.log('Could not restart recognition:', error.message);\r\n            }\r\n          }\r\n        }, 1000);\r\n        setRestartTimeout(timeout);\r\n      }\r\n    };\r\n\r\n    recognition.onend = () => {\r\n      console.log('üîö Voice recognition ended');\r\n      setIsCurrentlyListening(false);\r\n      \r\n      // Only restart if voice is active and not speaking\r\n      if (isVoiceActive && !isSpeaking) {\r\n        console.log('üîÑ Auto-restarting recognition...');\r\n        if (restartTimeout) clearTimeout(restartTimeout);\r\n        const timeout = setTimeout(() => {\r\n          if (isVoiceActive && !isSpeaking) {\r\n            try {\r\n              recognition.start();\r\n            } catch (error) {\r\n              console.log('Could not restart recognition:', error.message);\r\n            }\r\n          }\r\n        }, 300);\r\n        setRestartTimeout(timeout);\r\n      } else if (!isVoiceActive) {\r\n        setStatus('Voice OFF');\r\n      }\r\n    };\r\n  };\r\n\r\n  // Toggle voice recognition ON/OFF with proper coordination\r\n  const toggleVoiceRecognition = async () => {\r\n    console.log('üé§ Voice toggle clicked');\r\n    \r\n    if (!recognition) {\r\n      const msg = 'Voice recognition not supported. Please use Chrome browser.';\r\n      speak(msg);\r\n      return;\r\n    }\r\n\r\n    if (isVoiceActive) {\r\n      // Turn OFF voice recognition\r\n      console.log('üîá Turning OFF continuous voice recognition');\r\n      setIsVoiceActive(false);\r\n      setIsCurrentlyListening(false);\r\n      \r\n      // Clear any restart timeouts\r\n      if (restartTimeout) {\r\n        clearTimeout(restartTimeout);\r\n        setRestartTimeout(null);\r\n      }\r\n      \r\n      // Stop recognition\r\n      try {\r\n        recognition.stop();\r\n        recognition.abort();\r\n      } catch (error) {\r\n        console.log('Note: Error stopping recognition:', error.message);\r\n      }\r\n      \r\n      setStatus('Voice OFF');\r\n      speak('Voice recognition turned off');\r\n      \r\n    } else {\r\n      // Turn ON voice recognition\r\n      console.log('üîä Turning ON continuous voice recognition');\r\n      \r\n      try {\r\n        // Request microphone permission\r\n        await navigator.mediaDevices.getUserMedia({ audio: true });\r\n        console.log('‚úÖ Microphone permission granted');\r\n      } catch (error) {\r\n        console.error('‚ùå Microphone permission denied:', error);\r\n        const msg = 'Please allow microphone access to use voice commands.';\r\n        speak(msg);\r\n        return;\r\n      }\r\n\r\n      setIsVoiceActive(true);\r\n      setStatus('Activating...');\r\n      \r\n      // Setup continuous recognition\r\n      setupContinuousRecognition();\r\n      \r\n      // Speak activation message and start recognition after speech\r\n      speak('Voice recognition activated. I am now listening for your commands.');\r\n      \r\n      // The recognition will start automatically after speech ends\r\n      // due to the coordination in the speak() function\r\n    }\r\n  };\r\n\r\n  if (!recognition) {\r\n    return (\r\n      <div style={{ position: 'fixed', bottom: '20px', right: '20px', zIndex: 1000 }}>\r\n        <div style={{\r\n          background: '#ff6b6b',\r\n          color: 'white',\r\n          padding: '12px',\r\n          borderRadius: '8px',\r\n          fontSize: '14px'\r\n        }}>\r\n          Voice not supported.<br/>Please use Chrome browser.\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Comprehensive test speech function\r\n  const testSpeech = () => {\r\n    console.log('üîä COMPREHENSIVE SPEECH TEST...');\r\n    \r\n    // Check browser support\r\n    if (!('speechSynthesis' in window)) {\r\n      alert('‚ùå Speech synthesis not supported. Please use Chrome browser.');\r\n      return;\r\n    }\r\n\r\n    // Check voices\r\n    const voices = window.speechSynthesis.getVoices();\r\n    console.log('üé§ SPEECH DIAGNOSTICS:');\r\n    console.log('- Available voices:', voices.length);\r\n    console.log('- Narration enabled:', isNarrationEnabled);\r\n    console.log('- Speech synthesis speaking:', window.speechSynthesis.speaking);\r\n    console.log('- Speech synthesis pending:', window.speechSynthesis.pending);\r\n    \r\n    if (voices.length === 0) {\r\n      console.log('‚ö†Ô∏è No voices loaded, trying to load...');\r\n      // Try to trigger voice loading\r\n      window.speechSynthesis.getVoices();\r\n      setTimeout(() => {\r\n        const newVoices = window.speechSynthesis.getVoices();\r\n        console.log('üé§ Voices after reload:', newVoices.length);\r\n        if (newVoices.length > 0) {\r\n          testActualSpeech();\r\n        } else {\r\n          alert('‚ùå No voices available. Please refresh the page and try again.');\r\n        }\r\n      }, 1000);\r\n    } else {\r\n      testActualSpeech();\r\n    }\r\n  };\r\n\r\n  // Test actual speech synthesis\r\n  const testActualSpeech = () => {\r\n    console.log('üîä TESTING ACTUAL SPEECH...');\r\n    \r\n    try {\r\n      // Force cancel any ongoing speech\r\n      window.speechSynthesis.cancel();\r\n      \r\n      const testText = 'Testing speech synthesis. Can you hear this message clearly?';\r\n      const utterance = new SpeechSynthesisUtterance(testText);\r\n      utterance.rate = 1.0;\r\n      utterance.pitch = 1.0;\r\n      utterance.volume = 1.0;\r\n      utterance.lang = 'en-US';\r\n      \r\n      const voices = window.speechSynthesis.getVoices();\r\n      if (voices.length > 0) {\r\n        utterance.voice = voices[0];\r\n        console.log('üé§ Using voice:', voices[0].name);\r\n      }\r\n      \r\n      utterance.onstart = () => {\r\n        console.log('‚úÖ SPEECH TEST STARTED SUCCESSFULLY');\r\n      };\r\n      \r\n      utterance.onend = () => {\r\n        console.log('‚úÖ SPEECH TEST COMPLETED SUCCESSFULLY');\r\n      };\r\n      \r\n      utterance.onerror = (event) => {\r\n        console.error('‚ùå SPEECH TEST ERROR:', event.error);\r\n        alert(`Speech test failed: ${event.error}`);\r\n      };\r\n      \r\n      console.log('üîä STARTING SPEECH TEST...');\r\n      window.speechSynthesis.speak(utterance);\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå SPEECH TEST EXCEPTION:', error);\r\n      alert(`Speech test exception: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'fixed', bottom: '20px', right: '20px', zIndex: 1000 }}>\r\n      {/* Test narration button */}\r\n      <button\r\n        onClick={testNarration}\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: '130px',\r\n          right: '0px',\r\n          width: '40px',\r\n          height: '30px',\r\n          borderRadius: '15px',\r\n          backgroundColor: '#9C27B0',\r\n          color: 'white',\r\n          border: 'none',\r\n          fontSize: '12px',\r\n          cursor: 'pointer',\r\n          boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)'\r\n        }}\r\n        title=\"Test narration system\"\r\n      >\r\n        üéµ\r\n      </button>\r\n\r\n      {/* Narration toggle button */}\r\n      <button\r\n        onClick={toggleNarration}\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: '100px',\r\n          right: '0px',\r\n          width: '40px',\r\n          height: '30px',\r\n          borderRadius: '15px',\r\n          backgroundColor: isNarrationEnabled ? '#FF9800' : '#666',\r\n          color: 'white',\r\n          border: 'none',\r\n          fontSize: '12px',\r\n          cursor: 'pointer',\r\n          boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)'\r\n        }}\r\n        title={isNarrationEnabled ? 'Turn OFF action narration' : 'Turn ON action narration'}\r\n      >\r\n        {isNarrationEnabled ? 'üì¢' : 'üîá'}\r\n      </button>\r\n\r\n      {/* Test speech button */}\r\n      <button\r\n        onClick={testSpeech}\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: '70px',\r\n          right: '0px',\r\n          width: '40px',\r\n          height: '30px',\r\n          borderRadius: '15px',\r\n          backgroundColor: '#4CAF50',\r\n          color: 'white',\r\n          border: 'none',\r\n          fontSize: '12px',\r\n          cursor: 'pointer',\r\n          boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)'\r\n        }}\r\n        title=\"Test speech output\"\r\n      >\r\n        üîä\r\n      </button>\r\n\r\n      {/* Main voice toggle button */}\r\n      <button\r\n        onClick={toggleVoiceRecognition}\r\n        style={{\r\n          width: '60px',\r\n          height: '60px',\r\n          borderRadius: '50%',\r\n          backgroundColor: isVoiceActive ? '#4CAF50' : '#666',\r\n          color: 'white',\r\n          border: isVoiceActive ? '3px solid #2E7D32' : '3px solid #444',\r\n          fontSize: '24px',\r\n          cursor: 'pointer',\r\n          boxShadow: isVoiceActive ? '0 4px 15px rgba(76, 175, 80, 0.4)' : '0 4px 12px rgba(0, 0, 0, 0.15)',\r\n          animation: isCurrentlyListening ? 'pulse 1s infinite' : 'none',\r\n          transition: 'all 0.3s ease'\r\n        }}\r\n        title={isVoiceActive ? 'Click to turn OFF voice recognition' : 'Click to turn ON continuous voice recognition'}\r\n      >\r\n        {isVoiceActive ? 'üé§' : 'üîá'}\r\n      </button>\r\n\r\n      {/* Status display */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        bottom: '70px',\r\n        right: '0px',\r\n        background: isVoiceActive ? '#E8F5E8' : 'white',\r\n        padding: '6px 10px',\r\n        borderRadius: '6px',\r\n        boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\r\n        fontSize: '11px',\r\n        whiteSpace: 'nowrap',\r\n        maxWidth: '200px',\r\n        textAlign: 'center',\r\n        border: isVoiceActive ? '1px solid #4CAF50' : '1px solid #ddd',\r\n        color: isVoiceActive ? '#2E7D32' : '#333'\r\n      }}>\r\n        {status}\r\n      </div>\r\n\r\n      {/* Voice mode indicator */}\r\n      {isVoiceActive && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          bottom: '100px',\r\n          right: '0px',\r\n          background: isCurrentlyListening ? '#4CAF50' : '#FFC107',\r\n          color: 'white',\r\n          padding: '4px 8px',\r\n          borderRadius: '4px',\r\n          fontSize: '10px',\r\n          fontWeight: 'bold',\r\n          textAlign: 'center',\r\n          animation: isCurrentlyListening ? 'pulse 1s infinite' : 'none'\r\n        }}>\r\n          {isCurrentlyListening ? 'üé§ LISTENING' : '‚è∏Ô∏è READY'}\r\n        </div>\r\n      )}\r\n\r\n      {/* Last command display */}\r\n      {lastCommand && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          bottom: isVoiceActive ? '130px' : '100px',\r\n          right: '0px',\r\n          background: '#e8f5e8',\r\n          padding: '4px 8px',\r\n          borderRadius: '4px',\r\n          fontSize: '10px',\r\n          maxWidth: '150px',\r\n          wordBreak: 'break-word',\r\n          border: '1px solid #4CAF50'\r\n        }}>\r\n          Last: \"{lastCommand}\"\r\n        </div>\r\n      )}\r\n\r\n      <style jsx>{`\r\n        @keyframes pulse {\r\n          0% { transform: scale(1); }\r\n          50% { transform: scale(1.1); }\r\n          100% { transform: scale(1); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BasicVoiceButton;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}