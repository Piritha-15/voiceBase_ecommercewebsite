{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJECT1\\\\frontend\\\\src\\\\context\\\\VoiceContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoiceContext = /*#__PURE__*/createContext();\nexport const useVoice = () => {\n  _s();\n  const context = useContext(VoiceContext);\n  if (!context) {\n    throw new Error('useVoice must be used within a VoiceProvider');\n  }\n  return context;\n};\n_s(useVoice, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const VoiceProvider = ({\n  children\n}) => {\n  _s2();\n  const [isListening, setIsListening] = useState(false);\n  const [recognition, setRecognition] = useState(null);\n  const [synthesis, setSynthesis] = useState(null);\n  useEffect(() => {\n    console.log('Initializing Voice API...');\n\n    // Initialize Web Speech API\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      const recognitionInstance = new SpeechRecognition();\n      recognitionInstance.continuous = false;\n      recognitionInstance.interimResults = false;\n      recognitionInstance.lang = 'en-US';\n      recognitionInstance.maxAlternatives = 1;\n      console.log('Speech Recognition initialized');\n      setRecognition(recognitionInstance);\n    } else {\n      console.error('Speech Recognition not supported in this browser');\n    }\n    if ('speechSynthesis' in window) {\n      console.log('Speech Synthesis initialized');\n      setSynthesis(window.speechSynthesis);\n    } else {\n      console.error('Speech Synthesis not supported in this browser');\n    }\n  }, []);\n  const startListening = (onResult, onError) => {\n    console.log('startListening called');\n    if (!recognition) {\n      console.error('Recognition not available');\n      onError && onError('Speech recognition not supported');\n      return;\n    }\n    console.log('Setting up recognition handlers...');\n    setIsListening(true);\n    recognition.onstart = () => {\n      console.log('Speech recognition started');\n    };\n    recognition.onresult = event => {\n      console.log('Speech recognition result event:', event);\n      if (event.results && event.results.length > 0) {\n        const transcript = event.results[0][0].transcript;\n        const confidence = event.results[0][0].confidence;\n        console.log('Transcript:', transcript, 'Confidence:', confidence);\n        onResult && onResult(transcript);\n      }\n      setIsListening(false);\n    };\n    recognition.onerror = event => {\n      console.error('Speech recognition error:', event.error, event);\n      onError && onError(event.error);\n      setIsListening(false);\n    };\n    recognition.onend = () => {\n      console.log('Speech recognition ended');\n      setIsListening(false);\n    };\n    try {\n      console.log('Starting recognition...');\n      recognition.start();\n    } catch (error) {\n      console.error('Error starting recognition:', error);\n      onError && onError(error.message);\n      setIsListening(false);\n    }\n  };\n  const stopListening = () => {\n    if (recognition) {\n      recognition.stop();\n    }\n    setIsListening(false);\n  };\n  const speak = (text, options = {}) => {\n    if (!synthesis) {\n      console.error('Speech synthesis not supported');\n      return;\n    }\n\n    // Cancel any ongoing speech\n    synthesis.cancel();\n    const utterance = new SpeechSynthesisUtterance(text);\n    utterance.rate = options.rate || 0.8; // Slower for seniors\n    utterance.pitch = options.pitch || 1;\n    utterance.volume = options.volume || 1;\n    if (options.onEnd) {\n      utterance.onend = options.onEnd;\n    }\n    synthesis.speak(utterance);\n  };\n  const stopSpeaking = () => {\n    if (synthesis) {\n      synthesis.cancel();\n    }\n  };\n  const value = {\n    isListening,\n    startListening,\n    stopListening,\n    speak,\n    stopSpeaking,\n    isSupported: !!recognition && !!synthesis\n  };\n  return /*#__PURE__*/_jsxDEV(VoiceContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n};\n_s2(VoiceProvider, \"Xc9XSBoFFh+rvKmzwZzed1R+cpQ=\");\n_c = VoiceProvider;\nvar _c;\n$RefreshReg$(_c, \"VoiceProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","VoiceContext","useVoice","_s","context","Error","VoiceProvider","children","_s2","isListening","setIsListening","recognition","setRecognition","synthesis","setSynthesis","console","log","window","SpeechRecognition","webkitSpeechRecognition","recognitionInstance","continuous","interimResults","lang","maxAlternatives","error","speechSynthesis","startListening","onResult","onError","onstart","onresult","event","results","length","transcript","confidence","onerror","onend","start","message","stopListening","stop","speak","text","options","cancel","utterance","SpeechSynthesisUtterance","rate","pitch","volume","onEnd","stopSpeaking","value","isSupported","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/PROJECT1/frontend/src/context/VoiceContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst VoiceContext = createContext();\r\n\r\nexport const useVoice = () => {\r\n  const context = useContext(VoiceContext);\r\n  if (!context) {\r\n    throw new Error('useVoice must be used within a VoiceProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const VoiceProvider = ({ children }) => {\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [recognition, setRecognition] = useState(null);\r\n  const [synthesis, setSynthesis] = useState(null);\r\n\r\n  useEffect(() => {\r\n    console.log('Initializing Voice API...');\r\n    \r\n    // Initialize Web Speech API\r\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\r\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n      const recognitionInstance = new SpeechRecognition();\r\n      \r\n      recognitionInstance.continuous = false;\r\n      recognitionInstance.interimResults = false;\r\n      recognitionInstance.lang = 'en-US';\r\n      recognitionInstance.maxAlternatives = 1;\r\n      \r\n      console.log('Speech Recognition initialized');\r\n      setRecognition(recognitionInstance);\r\n    } else {\r\n      console.error('Speech Recognition not supported in this browser');\r\n    }\r\n\r\n    if ('speechSynthesis' in window) {\r\n      console.log('Speech Synthesis initialized');\r\n      setSynthesis(window.speechSynthesis);\r\n    } else {\r\n      console.error('Speech Synthesis not supported in this browser');\r\n    }\r\n  }, []);\r\n\r\n  const startListening = (onResult, onError) => {\r\n    console.log('startListening called');\r\n    \r\n    if (!recognition) {\r\n      console.error('Recognition not available');\r\n      onError && onError('Speech recognition not supported');\r\n      return;\r\n    }\r\n\r\n    console.log('Setting up recognition handlers...');\r\n    setIsListening(true);\r\n    \r\n    recognition.onstart = () => {\r\n      console.log('Speech recognition started');\r\n    };\r\n    \r\n    recognition.onresult = (event) => {\r\n      console.log('Speech recognition result event:', event);\r\n      if (event.results && event.results.length > 0) {\r\n        const transcript = event.results[0][0].transcript;\r\n        const confidence = event.results[0][0].confidence;\r\n        console.log('Transcript:', transcript, 'Confidence:', confidence);\r\n        onResult && onResult(transcript);\r\n      }\r\n      setIsListening(false);\r\n    };\r\n\r\n    recognition.onerror = (event) => {\r\n      console.error('Speech recognition error:', event.error, event);\r\n      onError && onError(event.error);\r\n      setIsListening(false);\r\n    };\r\n\r\n    recognition.onend = () => {\r\n      console.log('Speech recognition ended');\r\n      setIsListening(false);\r\n    };\r\n\r\n    try {\r\n      console.log('Starting recognition...');\r\n      recognition.start();\r\n    } catch (error) {\r\n      console.error('Error starting recognition:', error);\r\n      onError && onError(error.message);\r\n      setIsListening(false);\r\n    }\r\n  };\r\n\r\n  const stopListening = () => {\r\n    if (recognition) {\r\n      recognition.stop();\r\n    }\r\n    setIsListening(false);\r\n  };\r\n\r\n  const speak = (text, options = {}) => {\r\n    if (!synthesis) {\r\n      console.error('Speech synthesis not supported');\r\n      return;\r\n    }\r\n\r\n    // Cancel any ongoing speech\r\n    synthesis.cancel();\r\n\r\n    const utterance = new SpeechSynthesisUtterance(text);\r\n    utterance.rate = options.rate || 0.8; // Slower for seniors\r\n    utterance.pitch = options.pitch || 1;\r\n    utterance.volume = options.volume || 1;\r\n    \r\n    if (options.onEnd) {\r\n      utterance.onend = options.onEnd;\r\n    }\r\n\r\n    synthesis.speak(utterance);\r\n  };\r\n\r\n  const stopSpeaking = () => {\r\n    if (synthesis) {\r\n      synthesis.cancel();\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    isListening,\r\n    startListening,\r\n    stopListening,\r\n    speak,\r\n    stopSpeaking,\r\n    isSupported: !!recognition && !!synthesis\r\n  };\r\n\r\n  return (\r\n    <VoiceContext.Provider value={value}>\r\n      {children}\r\n    </VoiceContext.Provider>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}