{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJECT1\\\\frontend\\\\src\\\\components\\\\BasicVoiceButton.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useVoiceNarration } from '../context/VoiceNarrationContext';\nimport { useSpeechCoordination } from '../context/SpeechCoordinationContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BasicVoiceButton = () => {\n  _s();\n  const [isVoiceActive, setIsVoiceActive] = useState(false);\n  const [isCurrentlyListening, setIsCurrentlyListening] = useState(false);\n  const [recognition, setRecognition] = useState(null);\n  const [lastCommand, setLastCommand] = useState('');\n  const [status, setStatus] = useState('Ready');\n  const [restartTimeout, setRestartTimeout] = useState(null);\n  const [lastSpokenText, setLastSpokenText] = useState('');\n  const [lastSpeechTime, setLastSpeechTime] = useState(0);\n  const [lastProcessedCommand, setLastProcessedCommand] = useState('');\n  const [lastCommandTime, setLastCommandTime] = useState(0);\n  const isVoiceActiveRef = useRef(false); // Use ref for reliable state in callbacks\n  const navigate = useNavigate();\n  const {\n    isNarrationEnabled,\n    toggleNarration\n  } = useVoiceNarration();\n\n  // Independent narration toggle (separate from voice recognition)\n  const handleNarrationToggle = () => {\n    console.log('ğŸ“¢ Read-aloud button clicked (INDEPENDENT), current state:', isNarrationEnabled);\n    const wasEnabled = isNarrationEnabled;\n    toggleNarration();\n\n    // Provide immediate audio feedback (independent of voice recognition)\n    setTimeout(() => {\n      if (wasEnabled) {\n        console.log('ğŸ“¢ Turning OFF read-aloud system (INDEPENDENT)');\n        speak('Read-aloud system off');\n      } else {\n        console.log('ğŸ“¢ Turning ON read-aloud system (INDEPENDENT)');\n        speak('Read-aloud system on');\n      }\n    }, 100);\n  };\n  const {\n    coordinatedSpeak,\n    isSpeaking\n  } = useSpeechCoordination();\n\n  // Simple and reliable voice recognition test\n  const testVoiceRecognition = () => {\n    console.log('ğŸ¤ SIMPLE VOICE RECOGNITION TEST...');\n\n    // Check basic support\n    if (!('webkitSpeechRecognition' in window)) {\n      alert('âŒ Voice recognition not supported. Please use Chrome browser.');\n      return;\n    }\n    console.log('âœ… Voice recognition API available');\n\n    // Request microphone permission first\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n      navigator.mediaDevices.getUserMedia({\n        audio: true\n      }).then(() => {\n        console.log('âœ… Microphone permission granted');\n        startSimpleVoiceTest();\n      }).catch(error => {\n        console.error('âŒ Microphone permission denied:', error);\n        alert('âŒ Please allow microphone access and try again.');\n      });\n    } else {\n      // Try without explicit permission request\n      startSimpleVoiceTest();\n    }\n  };\n\n  // Start a simple voice recognition test\n  const startSimpleVoiceTest = () => {\n    try {\n      console.log('ğŸ¤ Creating simple voice recognition test...');\n      const testRecognition = new window.webkitSpeechRecognition();\n      testRecognition.continuous = false;\n      testRecognition.interimResults = false;\n      testRecognition.lang = 'en-US';\n      let testStarted = false;\n      testRecognition.onstart = () => {\n        console.log('âœ… VOICE TEST STARTED');\n        testStarted = true;\n        alert('ğŸ¤ Voice test started! Say \"hello\" clearly now.');\n      };\n      testRecognition.onresult = event => {\n        if (event.results && event.results.length > 0) {\n          const transcript = event.results[0][0].transcript.toLowerCase().trim();\n          const confidence = event.results[0][0].confidence;\n          console.log('âœ… VOICE TEST SUCCESS:', transcript, confidence);\n          alert(`âœ… Voice recognition WORKING! Heard: \"${transcript}\" (confidence: ${confidence.toFixed(2)})`);\n        }\n      };\n      testRecognition.onerror = event => {\n        console.error('âŒ VOICE TEST ERROR:', event.error);\n        let errorMsg = 'Voice recognition error: ';\n        switch (event.error) {\n          case 'not-allowed':\n            errorMsg += 'Microphone access denied. Please allow microphone access.';\n            break;\n          case 'no-speech':\n            errorMsg += 'No speech detected. Please speak louder and try again.';\n            break;\n          case 'network':\n            errorMsg += 'Network error. Please check your internet connection.';\n            break;\n          default:\n            errorMsg += event.error;\n        }\n        alert(`âŒ ${errorMsg}`);\n      };\n      testRecognition.onend = () => {\n        console.log('ğŸ”š Voice test ended');\n        if (!testStarted) {\n          alert('âŒ Voice recognition failed to start. Please check microphone permissions.');\n        }\n      };\n      console.log('ğŸ¤ Starting voice recognition test...');\n      testRecognition.start();\n    } catch (error) {\n      console.error('âŒ Exception starting voice test:', error);\n      alert(`âŒ Error: ${error.message}. Please use Chrome browser.`);\n    }\n  };\n\n  // Initialize speech recognition and synthesis\n  useEffect(() => {\n    console.log('ğŸ¤ Initializing Voice System...');\n\n    // Check speech recognition\n    if ('webkitSpeechRecognition' in window) {\n      const recognitionInstance = new window.webkitSpeechRecognition();\n      recognitionInstance.continuous = true; // Enable continuous recognition\n      recognitionInstance.interimResults = false;\n      recognitionInstance.lang = 'en-US';\n      console.log('âœ… Speech Recognition initialized for continuous mode');\n      setRecognition(recognitionInstance);\n    } else {\n      console.error('âŒ Speech Recognition not supported');\n      setStatus('Recognition Not Supported');\n      return;\n    }\n\n    // Check speech synthesis\n    if ('speechSynthesis' in window) {\n      console.log('âœ… Speech Synthesis available');\n\n      // Load voices\n      const loadVoices = () => {\n        const voices = window.speechSynthesis.getVoices();\n        console.log('ğŸ¤ Loaded voices:', voices.length);\n        if (voices.length > 0) {\n          setStatus('Voice Ready - Narration Auto-Enabled');\n        } else {\n          setStatus('Loading voices...');\n        }\n      };\n\n      // Load voices immediately if available\n      loadVoices();\n\n      // Also listen for voice loading event\n      window.speechSynthesis.onvoiceschanged = loadVoices;\n    } else {\n      console.error('âŒ Speech Synthesis not supported');\n      setStatus('Speech Not Supported');\n    }\n  }, []);\n\n  // Smart coordinated speech function (prevents conflicts)\n  const speak = text => {\n    if (!text || text.trim() === '') {\n      console.log('âŒ Empty text, skipping speech');\n      return;\n    }\n    const currentTime = Date.now();\n    const normalizedText = text.toLowerCase().trim();\n\n    // Prevent exact duplicate speech within 2 seconds\n    if (lastSpokenText === normalizedText && currentTime - lastSpeechTime < 2000) {\n      console.log('ğŸš« DUPLICATE SPEECH BLOCKED:', text);\n      return;\n    }\n    console.log('ğŸ”Š SMART COORDINATED SPEECH:', text);\n    setLastSpokenText(normalizedText);\n    setLastSpeechTime(currentTime);\n\n    // Smart coordination: pause voice recognition during speech\n    try {\n      let wasListening = false;\n\n      // Pause voice recognition if it's active\n      if (recognition && isCurrentlyListening && isVoiceActive) {\n        console.log('â¸ï¸ Pausing voice recognition for speech...');\n        wasListening = true;\n        try {\n          recognition.stop();\n          setIsCurrentlyListening(false);\n        } catch (e) {\n          console.log('Note: Could not pause recognition:', e.message);\n        }\n      }\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.9;\n      utterance.pitch = 1.0;\n      utterance.volume = 1.0;\n      utterance.lang = 'en-US';\n      utterance.onend = () => {\n        console.log('âœ… Speech completed');\n\n        // Resume voice recognition if it was active\n        if (wasListening && isVoiceActiveRef.current) {\n          console.log('â–¶ï¸ Resuming voice recognition...');\n          setTimeout(() => {\n            if (isVoiceActiveRef.current && recognition) {\n              try {\n                recognition.start();\n                setIsCurrentlyListening(true);\n                setStatus('ğŸ¤ Listening...');\n              } catch (error) {\n                console.log('Note: Could not resume recognition:', error.message);\n              }\n            }\n          }, 500);\n        }\n      };\n      utterance.onerror = error => {\n        console.error('âŒ Speech error:', error);\n\n        // Resume recognition even on error\n        if (wasListening && isVoiceActiveRef.current) {\n          setTimeout(() => {\n            if (isVoiceActiveRef.current && recognition) {\n              try {\n                recognition.start();\n                setIsCurrentlyListening(true);\n                setStatus('ğŸ¤ Listening...');\n              } catch (error) {\n                console.log('Note: Could not resume after error:', error.message);\n              }\n            }\n          }, 500);\n        }\n      };\n      window.speechSynthesis.speak(utterance);\n    } catch (error) {\n      console.error('âŒ Speech synthesis error:', error);\n    }\n  };\n\n  // Fuzzy matching function for better speech recognition\n  const fuzzyMatch = (text, patterns) => {\n    const normalizedText = text.toLowerCase().replace(/[^a-z\\s]/g, '').trim();\n    for (const pattern of patterns) {\n      if (normalizedText.includes(pattern)) {\n        return true;\n      }\n    }\n\n    // Check for phonetic similarities\n    for (const pattern of patterns) {\n      const words = normalizedText.split(' ');\n      for (const word of words) {\n        if (isPhoneticallySimilar(word, pattern)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  // Check if words sound similar (basic phonetic matching)\n  const isPhoneticallySimilar = (word1, word2) => {\n    // Handle common speech recognition errors\n    const phoneticMap = {\n      'cart': ['cart', 'caret', 'card', 'cat', 'cot', 'cut', 'kart', 'part'],\n      'move': ['move', 'moo', 'mood', 'mote', 'mot', 'mu'],\n      'go': ['go', 'goo', 'got', 'good'],\n      'show': ['show', 'so', 'shoe', 'shaw'],\n      'open': ['open', 'opin', 'upon']\n    };\n    for (const [key, variants] of Object.entries(phoneticMap)) {\n      if (variants.includes(word1) && variants.includes(word2)) {\n        return true;\n      }\n      if (key === word2 && variants.includes(word1)) {\n        return true;\n      }\n      if (key === word1 && variants.includes(word2)) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  // Process voice commands with improved fuzzy matching and duplicate prevention\n  const processCommand = transcript => {\n    console.log('ğŸ¯ ===== PROCESSING COMMAND =====');\n    console.log('ğŸ¯ Raw transcript:', transcript);\n    const command = transcript.toLowerCase().trim();\n    console.log('ğŸ¯ Normalized command:', command);\n    const currentTime = Date.now();\n\n    // Prevent processing the same command within 1 second (less aggressive)\n    if (lastProcessedCommand === command && currentTime - lastCommandTime < 1000) {\n      console.log('ğŸš« DUPLICATE COMMAND BLOCKED:', command);\n      return;\n    }\n\n    // Update command tracking\n    setLastProcessedCommand(command);\n    setLastCommandTime(currentTime);\n    setLastCommand(transcript);\n    setStatus(`Heard: \"${transcript}\"`);\n    console.log('ğŸ¯ Starting command matching...');\n\n    // Test commands - VERY SIMPLE MATCHING\n    console.log('ğŸ¯ Checking test commands...');\n    if (command.includes('hello') || command.includes('test') || command.includes('hi')) {\n      console.log('âœ… ===== TEST COMMAND MATCHED =====');\n      setStatus('âœ… Voice Working!');\n      speak('Hello! Voice recognition is working perfectly!');\n      return;\n    }\n\n    // Cart commands - VERY SIMPLE MATCHING\n    console.log('ğŸ¯ Checking cart commands...');\n    if (command.includes('cart') || command.includes('card') || command.includes('caret')) {\n      console.log('âœ… ===== CART COMMAND MATCHED =====');\n      setStatus('Opening cart');\n      speak('Opening your shopping cart');\n      setTimeout(() => {\n        console.log('ğŸ›’ Navigating to cart...');\n        navigate('/cart');\n      }, 500);\n      return;\n    }\n\n    // Home navigation with fuzzy matching\n    const homePatterns = ['home', 'go home', 'home page', 'main page', 'hom', 'ohm'];\n    if (fuzzyMatch(command, homePatterns)) {\n      console.log('ğŸ  Navigating to home');\n      setStatus('Going to home');\n      speak('Going to home page');\n      setTimeout(() => navigate('/'), 1000);\n      return;\n    }\n\n    // Search commands with fuzzy matching\n    const searchPatterns = ['search', 'find', 'look for', 'serch', 'fined', 'surch'];\n    if (fuzzyMatch(command, searchPatterns)) {\n      let searchTerm = '';\n\n      // Extract search term with multiple patterns\n      const searchPrefixes = ['search for', 'find', 'look for', 'search', 'serch for', 'fined'];\n      for (const prefix of searchPrefixes) {\n        if (command.includes(prefix)) {\n          searchTerm = command.replace(prefix, '').trim();\n          break;\n        }\n      }\n      if (searchTerm) {\n        console.log('ğŸ” Searching for:', searchTerm);\n        setStatus(`Searching: ${searchTerm}`);\n        speak(`Searching for ${searchTerm}`);\n        setTimeout(() => navigate(`/?search=${encodeURIComponent(searchTerm)}`), 1000);\n      } else {\n        setStatus('What to search?');\n        speak('What would you like to search for?');\n      }\n      return;\n    }\n\n    // Health category with fuzzy matching\n    const healthPatterns = ['health', 'health category', 'go to health', 'helth', 'helt', 'medical'];\n    if (fuzzyMatch(command, healthPatterns)) {\n      console.log('ğŸ¥ Opening health category');\n      setStatus('Health category');\n      speak('Opening health products category');\n      setTimeout(() => navigate('/category/health'), 1000);\n      return;\n    }\n\n    // Nutrition category with fuzzy matching\n    const nutritionPatterns = ['nutrition', 'nutrition category', 'go to nutrition', 'nutriton', 'food', 'vitamins'];\n    if (fuzzyMatch(command, nutritionPatterns)) {\n      console.log('ğŸ¥— Opening nutrition category');\n      setStatus('Nutrition category');\n      speak('Opening nutrition products category');\n      setTimeout(() => navigate('/category/nutrition'), 1000);\n      return;\n    }\n\n    // Help command with fuzzy matching\n    const helpPatterns = ['help', 'what can i say', 'commands', 'what to say', 'halp', 'elp'];\n    if (fuzzyMatch(command, helpPatterns)) {\n      console.log('â“ Help requested');\n      setStatus('Help available');\n      speak('You can say: hello, go home, show cart, search for vitamins, health category, nutrition category, or help');\n      return;\n    }\n\n    // Additional common commands\n    // Checkout command\n    const checkoutPatterns = ['checkout', 'check out', 'pay now', 'payment', 'chekout'];\n    if (fuzzyMatch(command, checkoutPatterns)) {\n      console.log('ğŸ’³ Going to checkout');\n      setStatus('Going to checkout');\n      speak('Going to checkout');\n      setTimeout(() => navigate('/checkout'), 1000);\n      return;\n    }\n\n    // Back command\n    const backPatterns = ['go back', 'back', 'previous', 'return', 'bak'];\n    if (fuzzyMatch(command, backPatterns)) {\n      console.log('â¬…ï¸ Going back');\n      setStatus('Going back');\n      speak('Going back');\n      setTimeout(() => window.history.back(), 1000);\n      return;\n    }\n\n    // Default response\n    console.log('â“ Unknown command:', command);\n    setStatus(`Unknown: \"${transcript}\"`);\n    speak(`I heard ${transcript}, but I don't understand that command. Try saying hello, go home, show cart, or search for something.`);\n  };\n\n  // Removed complex setupContinuousRecognition - using simpler approach\n\n  // Simple voice recognition toggle\n  const toggleVoiceRecognition = async () => {\n    console.log('ğŸ¤ Voice recognition button clicked, current state:', isVoiceActive);\n    if (!recognition) {\n      alert('âŒ Voice recognition not supported. Please use Chrome browser.');\n      return;\n    }\n    if (isVoiceActive) {\n      // Turn OFF voice recognition\n      console.log('ğŸ”‡ Turning OFF voice recognition');\n      setIsVoiceActive(false);\n      isVoiceActiveRef.current = false; // Update ref\n      setIsCurrentlyListening(false);\n      setStatus('Voice OFF');\n\n      // Clear any restart timeout\n      if (restartTimeout) {\n        clearTimeout(restartTimeout);\n        setRestartTimeout(null);\n      }\n      try {\n        recognition.stop();\n        recognition.abort();\n      } catch (error) {\n        console.log('Note: Error stopping recognition:', error.message);\n      }\n      speak('Voice recognition turned off');\n    } else {\n      // Turn ON voice recognition\n      console.log('ğŸ”Š Turning ON voice recognition');\n      try {\n        // Request microphone permission\n        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n          await navigator.mediaDevices.getUserMedia({\n            audio: true\n          });\n          console.log('âœ… Microphone permission granted');\n        }\n      } catch (error) {\n        console.error('âŒ Microphone permission denied:', error);\n        alert('âŒ Please allow microphone access to use voice commands.');\n        return;\n      }\n      setIsVoiceActive(true);\n      isVoiceActiveRef.current = true; // Update ref\n      setStatus('Voice ON');\n\n      // Setup simple continuous recognition\n      setupContinuousRecognition();\n      speak('Voice recognition activated. Say hello to test.');\n    }\n  };\n\n  // Simple continuous recognition setup\n  const setupContinuousRecognition = () => {\n    if (!recognition) return;\n    console.log('ğŸ¤ Setting up SIMPLE continuous recognition...');\n    recognition.continuous = true;\n    recognition.interimResults = false;\n    recognition.lang = 'en-US';\n    recognition.onstart = () => {\n      console.log('âœ… Simple voice recognition started');\n      setIsCurrentlyListening(true);\n      setStatus('ğŸ¤ Listening...');\n    };\n    recognition.onresult = event => {\n      console.log('ğŸ“ Voice result received');\n      if (event.results && event.results.length > 0) {\n        const transcript = event.results[0][0].transcript;\n        const confidence = event.results[0][0].confidence;\n        console.log('ğŸ“ Transcript:', transcript, 'Confidence:', confidence);\n        processCommand(transcript);\n      }\n    };\n    recognition.onerror = event => {\n      console.error('âŒ Voice recognition error:', event.error);\n      setIsCurrentlyListening(false);\n      if (event.error === 'not-allowed') {\n        alert('âŒ Microphone access denied. Please allow microphone access.');\n        setIsVoiceActive(false);\n        setStatus('Voice OFF - Permission Denied');\n        return;\n      } else if (event.error === 'no-speech') {\n        console.log('âš ï¸ No speech detected, will auto-restart...');\n        setStatus('ğŸ¤ Waiting for speech...');\n      } else {\n        console.log('âš ï¸ Voice error:', event.error, 'will auto-restart...');\n        setStatus(`âš ï¸ ${event.error} - restarting...`);\n      }\n    };\n    recognition.onend = () => {\n      console.log('ğŸ”š Voice recognition ended, isVoiceActiveRef:', isVoiceActiveRef.current);\n      setIsCurrentlyListening(false);\n\n      // Reliable auto-restart using ref\n      if (isVoiceActiveRef.current) {\n        console.log('ğŸ”„ Auto-restarting voice recognition...');\n        setStatus('ğŸ”„ Restarting...');\n\n        // Clear any existing restart timeout\n        if (restartTimeout) {\n          clearTimeout(restartTimeout);\n        }\n\n        // Restart with shorter, more reliable timing\n        const timeout = setTimeout(() => {\n          if (isVoiceActiveRef.current) {\n            try {\n              console.log('ğŸ¬ Restarting recognition...');\n              recognition.start();\n              setIsCurrentlyListening(true);\n              setStatus('ğŸ¤ Listening...');\n            } catch (error) {\n              console.log('Could not restart recognition:', error.message);\n              if (error.message.includes('already started')) {\n                console.log('â„¹ï¸ Recognition already running');\n                setIsCurrentlyListening(true);\n                setStatus('ğŸ¤ Listening...');\n              } else {\n                console.log('âš ï¸ Restart failed, trying once more...');\n                setStatus('ğŸ”„ Retrying...');\n                // One more try with longer delay\n                setTimeout(() => {\n                  if (isVoiceActiveRef.current) {\n                    try {\n                      recognition.start();\n                      setIsCurrentlyListening(true);\n                      setStatus('ğŸ¤ Listening...');\n                    } catch (retryError) {\n                      console.log('Final retry failed:', retryError.message);\n                      setStatus('âŒ Voice recognition stopped');\n                      setIsVoiceActive(false);\n                      isVoiceActiveRef.current = false;\n                    }\n                  }\n                }, 1000);\n              }\n            }\n          }\n        }, 500); // Even faster restart\n\n        setRestartTimeout(timeout);\n      } else {\n        setStatus('Voice OFF');\n      }\n    };\n\n    // Start recognition\n    try {\n      console.log('ğŸ¬ Starting simple recognition...');\n      recognition.start();\n    } catch (error) {\n      console.error('âŒ Error starting recognition:', error);\n      if (error.message.includes('already started')) {\n        console.log('â„¹ï¸ Recognition already running');\n        setIsCurrentlyListening(true);\n        setStatus('ğŸ¤ Listening...');\n      } else {\n        alert(`âŒ Error starting voice recognition: ${error.message}`);\n        setIsVoiceActive(false);\n        setStatus('Voice OFF');\n      }\n    }\n  };\n  if (!recognition) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        bottom: '20px',\n        right: '20px',\n        zIndex: 1000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#ff6b6b',\n          color: 'white',\n          padding: '12px',\n          borderRadius: '8px',\n          fontSize: '14px'\n        },\n        children: [\"Voice not supported.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 31\n        }, this), \"Please use Chrome browser.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 632,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Comprehensive test speech function\n  const testSpeech = () => {\n    console.log('ğŸ”Š COMPREHENSIVE SPEECH TEST...');\n\n    // Check browser support\n    if (!('speechSynthesis' in window)) {\n      alert('âŒ Speech synthesis not supported. Please use Chrome browser.');\n      return;\n    }\n\n    // Check voices\n    const voices = window.speechSynthesis.getVoices();\n    console.log('ğŸ¤ SPEECH DIAGNOSTICS:');\n    console.log('- Available voices:', voices.length);\n    console.log('- Narration enabled:', isNarrationEnabled);\n    console.log('- Speech synthesis speaking:', window.speechSynthesis.speaking);\n    console.log('- Speech synthesis pending:', window.speechSynthesis.pending);\n    if (voices.length === 0) {\n      console.log('âš ï¸ No voices loaded, trying to load...');\n      // Try to trigger voice loading\n      window.speechSynthesis.getVoices();\n      setTimeout(() => {\n        const newVoices = window.speechSynthesis.getVoices();\n        console.log('ğŸ¤ Voices after reload:', newVoices.length);\n        if (newVoices.length > 0) {\n          testActualSpeech();\n        } else {\n          alert('âŒ No voices available. Please refresh the page and try again.');\n        }\n      }, 1000);\n    } else {\n      testActualSpeech();\n    }\n  };\n\n  // Test actual speech synthesis\n  const testActualSpeech = () => {\n    console.log('ğŸ”Š TESTING ACTUAL SPEECH...');\n    try {\n      // Force cancel any ongoing speech\n      window.speechSynthesis.cancel();\n      const testText = 'Testing speech synthesis. Can you hear this message clearly?';\n      const utterance = new SpeechSynthesisUtterance(testText);\n      utterance.rate = 1.0;\n      utterance.pitch = 1.0;\n      utterance.volume = 1.0;\n      utterance.lang = 'en-US';\n      const voices = window.speechSynthesis.getVoices();\n      if (voices.length > 0) {\n        utterance.voice = voices[0];\n        console.log('ğŸ¤ Using voice:', voices[0].name);\n      }\n      utterance.onstart = () => {\n        console.log('âœ… SPEECH TEST STARTED SUCCESSFULLY');\n      };\n      utterance.onend = () => {\n        console.log('âœ… SPEECH TEST COMPLETED SUCCESSFULLY');\n      };\n      utterance.onerror = event => {\n        console.error('âŒ SPEECH TEST ERROR:', event.error);\n        alert(`Speech test failed: ${event.error}`);\n      };\n      console.log('ğŸ”Š STARTING SPEECH TEST...');\n      window.speechSynthesis.speak(utterance);\n    } catch (error) {\n      console.error('âŒ SPEECH TEST EXCEPTION:', error);\n      alert(`Speech test exception: ${error.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      bottom: '20px',\n      right: '20px',\n      zIndex: 1000\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: testVoiceRecognition,\n      style: {\n        position: 'absolute',\n        bottom: '130px',\n        right: '0px',\n        width: '40px',\n        height: '30px',\n        borderRadius: '15px',\n        backgroundColor: '#9C27B0',\n        color: 'white',\n        border: 'none',\n        fontSize: '12px',\n        cursor: 'pointer',\n        boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)'\n      },\n      title: \"Test voice recognition\",\n      children: \"\\uD83C\\uDF99\\uFE0F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 728,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleNarrationToggle,\n      style: {\n        position: 'absolute',\n        bottom: '100px',\n        right: '0px',\n        width: '50px',\n        height: '40px',\n        borderRadius: '20px',\n        backgroundColor: isNarrationEnabled ? '#FF9800' : '#666',\n        color: 'white',\n        border: isNarrationEnabled ? '2px solid #F57C00' : '2px solid #444',\n        fontSize: '16px',\n        cursor: 'pointer',\n        boxShadow: isNarrationEnabled ? '0 4px 12px rgba(255, 152, 0, 0.4)' : '0 2px 8px rgba(0, 0, 0, 0.15)',\n        transition: 'all 0.3s ease',\n        fontWeight: 'bold'\n      },\n      title: isNarrationEnabled ? 'Turn OFF Read-Aloud (Independent)' : 'Turn ON Read-Aloud (Independent)',\n      children: isNarrationEnabled ? 'ğŸ“¢' : 'ğŸ”‡'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 750,\n      columnNumber: 7\n    }, this), isNarrationEnabled && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '145px',\n        right: '0px',\n        background: '#FF9800',\n        color: 'white',\n        padding: '2px 6px',\n        borderRadius: '4px',\n        fontSize: '9px',\n        fontWeight: 'bold',\n        textAlign: 'center',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.2)'\n      },\n      children: \"READ-ALOUD ON\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 775,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: testSpeech,\n      style: {\n        position: 'absolute',\n        bottom: '70px',\n        right: '0px',\n        width: '40px',\n        height: '30px',\n        borderRadius: '15px',\n        backgroundColor: '#4CAF50',\n        color: 'white',\n        border: 'none',\n        fontSize: '12px',\n        cursor: 'pointer',\n        boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)'\n      },\n      title: \"Test speech output\",\n      children: \"\\uD83D\\uDD0A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 793,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleVoiceRecognition,\n      style: {\n        width: '60px',\n        height: '60px',\n        borderRadius: '50%',\n        backgroundColor: isVoiceActive ? '#4CAF50' : '#666',\n        color: 'white',\n        border: isVoiceActive ? '3px solid #2E7D32' : '3px solid #444',\n        fontSize: '24px',\n        cursor: 'pointer',\n        boxShadow: isVoiceActive ? '0 4px 15px rgba(76, 175, 80, 0.4)' : '0 4px 12px rgba(0, 0, 0, 0.15)',\n        animation: isCurrentlyListening ? 'pulse 1s infinite' : 'none',\n        transition: 'all 0.3s ease'\n      },\n      title: isVoiceActive ? 'Turn OFF Voice Recognition (Independent)' : 'Turn ON Voice Recognition (Independent)',\n      children: isVoiceActive ? 'ğŸ¤' : 'ğŸ”‡'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 815,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '70px',\n        right: '0px',\n        background: isVoiceActive ? '#E8F5E8' : 'white',\n        padding: '6px 10px',\n        borderRadius: '6px',\n        boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n        fontSize: '11px',\n        whiteSpace: 'nowrap',\n        maxWidth: '200px',\n        textAlign: 'center',\n        border: isVoiceActive ? '1px solid #4CAF50' : '1px solid #ddd',\n        color: isVoiceActive ? '#2E7D32' : '#333'\n      },\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 836,\n      columnNumber: 7\n    }, this), isVoiceActive && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '100px',\n        right: '0px',\n        background: isSpeaking ? '#FF5722' : isCurrentlyListening ? '#4CAF50' : '#FFC107',\n        color: 'white',\n        padding: '4px 8px',\n        borderRadius: '4px',\n        fontSize: '10px',\n        fontWeight: 'bold',\n        textAlign: 'center',\n        animation: isCurrentlyListening ? 'pulse 1s infinite' : 'none'\n      },\n      children: isSpeaking ? 'ğŸ”Š SPEAKING' : isCurrentlyListening ? 'ğŸ¤ LISTENING' : 'â¸ï¸ READY'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 856,\n      columnNumber: 9\n    }, this), lastCommand && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: isVoiceActive ? '130px' : '100px',\n        right: '0px',\n        background: '#e8f5e8',\n        padding: '4px 8px',\n        borderRadius: '4px',\n        fontSize: '10px',\n        maxWidth: '150px',\n        wordBreak: 'break-word',\n        border: '1px solid #4CAF50'\n      },\n      children: [\"Last: \\\"\", lastCommand, \"\\\"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 875,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        @keyframes pulse {\n          0% { transform: scale(1); }\n          50% { transform: scale(1.1); }\n          100% { transform: scale(1); }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 891,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 726,\n    columnNumber: 5\n  }, this);\n};\n_s(BasicVoiceButton, \"VOfx0gVoRgr2oZXCpwKwzO7ZPtU=\", false, function () {\n  return [useNavigate, useVoiceNarration, useSpeechCoordination];\n});\n_c = BasicVoiceButton;\nexport default BasicVoiceButton;\nvar _c;\n$RefreshReg$(_c, \"BasicVoiceButton\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useVoiceNarration","useSpeechCoordination","jsxDEV","_jsxDEV","BasicVoiceButton","_s","isVoiceActive","setIsVoiceActive","isCurrentlyListening","setIsCurrentlyListening","recognition","setRecognition","lastCommand","setLastCommand","status","setStatus","restartTimeout","setRestartTimeout","lastSpokenText","setLastSpokenText","lastSpeechTime","setLastSpeechTime","lastProcessedCommand","setLastProcessedCommand","lastCommandTime","setLastCommandTime","isVoiceActiveRef","navigate","isNarrationEnabled","toggleNarration","handleNarrationToggle","console","log","wasEnabled","setTimeout","speak","coordinatedSpeak","isSpeaking","testVoiceRecognition","window","alert","navigator","mediaDevices","getUserMedia","audio","then","startSimpleVoiceTest","catch","error","testRecognition","webkitSpeechRecognition","continuous","interimResults","lang","testStarted","onstart","onresult","event","results","length","transcript","toLowerCase","trim","confidence","toFixed","onerror","errorMsg","onend","start","message","recognitionInstance","loadVoices","voices","speechSynthesis","getVoices","onvoiceschanged","text","currentTime","Date","now","normalizedText","wasListening","stop","e","utterance","SpeechSynthesisUtterance","rate","pitch","volume","current","fuzzyMatch","patterns","replace","pattern","includes","words","split","word","isPhoneticallySimilar","word1","word2","phoneticMap","key","variants","Object","entries","processCommand","command","homePatterns","searchPatterns","searchTerm","searchPrefixes","prefix","encodeURIComponent","healthPatterns","nutritionPatterns","helpPatterns","checkoutPatterns","backPatterns","history","back","toggleVoiceRecognition","clearTimeout","abort","setupContinuousRecognition","timeout","retryError","style","position","bottom","right","zIndex","children","background","color","padding","borderRadius","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","testSpeech","speaking","pending","newVoices","testActualSpeech","cancel","testText","voice","name","onClick","width","height","backgroundColor","border","cursor","boxShadow","title","transition","fontWeight","textAlign","animation","whiteSpace","maxWidth","wordBreak","jsx","_c","$RefreshReg$"],"sources":["D:/PROJECT1/frontend/src/components/BasicVoiceButton.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useVoiceNarration } from '../context/VoiceNarrationContext';\r\nimport { useSpeechCoordination } from '../context/SpeechCoordinationContext';\r\n\r\nconst BasicVoiceButton = () => {\r\n  const [isVoiceActive, setIsVoiceActive] = useState(false);\r\n  const [isCurrentlyListening, setIsCurrentlyListening] = useState(false);\r\n  const [recognition, setRecognition] = useState(null);\r\n  const [lastCommand, setLastCommand] = useState('');\r\n  const [status, setStatus] = useState('Ready');\r\n  const [restartTimeout, setRestartTimeout] = useState(null);\r\n  const [lastSpokenText, setLastSpokenText] = useState('');\r\n  const [lastSpeechTime, setLastSpeechTime] = useState(0);\r\n  const [lastProcessedCommand, setLastProcessedCommand] = useState('');\r\n  const [lastCommandTime, setLastCommandTime] = useState(0);\r\n  const isVoiceActiveRef = useRef(false); // Use ref for reliable state in callbacks\r\n  const navigate = useNavigate();\r\n  const { isNarrationEnabled, toggleNarration } = useVoiceNarration();\r\n\r\n  // Independent narration toggle (separate from voice recognition)\r\n  const handleNarrationToggle = () => {\r\n    console.log('ğŸ“¢ Read-aloud button clicked (INDEPENDENT), current state:', isNarrationEnabled);\r\n    const wasEnabled = isNarrationEnabled;\r\n    toggleNarration();\r\n\r\n    // Provide immediate audio feedback (independent of voice recognition)\r\n    setTimeout(() => {\r\n      if (wasEnabled) {\r\n        console.log('ğŸ“¢ Turning OFF read-aloud system (INDEPENDENT)');\r\n        speak('Read-aloud system off');\r\n      } else {\r\n        console.log('ğŸ“¢ Turning ON read-aloud system (INDEPENDENT)');\r\n        speak('Read-aloud system on');\r\n      }\r\n    }, 100);\r\n  };\r\n  const { coordinatedSpeak, isSpeaking } = useSpeechCoordination();\r\n\r\n  // Simple and reliable voice recognition test\r\n  const testVoiceRecognition = () => {\r\n    console.log('ğŸ¤ SIMPLE VOICE RECOGNITION TEST...');\r\n\r\n    // Check basic support\r\n    if (!('webkitSpeechRecognition' in window)) {\r\n      alert('âŒ Voice recognition not supported. Please use Chrome browser.');\r\n      return;\r\n    }\r\n\r\n    console.log('âœ… Voice recognition API available');\r\n\r\n    // Request microphone permission first\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n      navigator.mediaDevices.getUserMedia({ audio: true })\r\n        .then(() => {\r\n          console.log('âœ… Microphone permission granted');\r\n          startSimpleVoiceTest();\r\n        })\r\n        .catch((error) => {\r\n          console.error('âŒ Microphone permission denied:', error);\r\n          alert('âŒ Please allow microphone access and try again.');\r\n        });\r\n    } else {\r\n      // Try without explicit permission request\r\n      startSimpleVoiceTest();\r\n    }\r\n  };\r\n\r\n  // Start a simple voice recognition test\r\n  const startSimpleVoiceTest = () => {\r\n    try {\r\n      console.log('ğŸ¤ Creating simple voice recognition test...');\r\n\r\n      const testRecognition = new window.webkitSpeechRecognition();\r\n      testRecognition.continuous = false;\r\n      testRecognition.interimResults = false;\r\n      testRecognition.lang = 'en-US';\r\n\r\n      let testStarted = false;\r\n\r\n      testRecognition.onstart = () => {\r\n        console.log('âœ… VOICE TEST STARTED');\r\n        testStarted = true;\r\n        alert('ğŸ¤ Voice test started! Say \"hello\" clearly now.');\r\n      };\r\n\r\n      testRecognition.onresult = (event) => {\r\n        if (event.results && event.results.length > 0) {\r\n          const transcript = event.results[0][0].transcript.toLowerCase().trim();\r\n          const confidence = event.results[0][0].confidence;\r\n          console.log('âœ… VOICE TEST SUCCESS:', transcript, confidence);\r\n          alert(`âœ… Voice recognition WORKING! Heard: \"${transcript}\" (confidence: ${confidence.toFixed(2)})`);\r\n        }\r\n      };\r\n\r\n      testRecognition.onerror = (event) => {\r\n        console.error('âŒ VOICE TEST ERROR:', event.error);\r\n        let errorMsg = 'Voice recognition error: ';\r\n        switch (event.error) {\r\n          case 'not-allowed':\r\n            errorMsg += 'Microphone access denied. Please allow microphone access.';\r\n            break;\r\n          case 'no-speech':\r\n            errorMsg += 'No speech detected. Please speak louder and try again.';\r\n            break;\r\n          case 'network':\r\n            errorMsg += 'Network error. Please check your internet connection.';\r\n            break;\r\n          default:\r\n            errorMsg += event.error;\r\n        }\r\n        alert(`âŒ ${errorMsg}`);\r\n      };\r\n\r\n      testRecognition.onend = () => {\r\n        console.log('ğŸ”š Voice test ended');\r\n        if (!testStarted) {\r\n          alert('âŒ Voice recognition failed to start. Please check microphone permissions.');\r\n        }\r\n      };\r\n\r\n      console.log('ğŸ¤ Starting voice recognition test...');\r\n      testRecognition.start();\r\n\r\n    } catch (error) {\r\n      console.error('âŒ Exception starting voice test:', error);\r\n      alert(`âŒ Error: ${error.message}. Please use Chrome browser.`);\r\n    }\r\n  };\r\n\r\n  // Initialize speech recognition and synthesis\r\n  useEffect(() => {\r\n    console.log('ğŸ¤ Initializing Voice System...');\r\n\r\n    // Check speech recognition\r\n    if ('webkitSpeechRecognition' in window) {\r\n      const recognitionInstance = new window.webkitSpeechRecognition();\r\n      recognitionInstance.continuous = true; // Enable continuous recognition\r\n      recognitionInstance.interimResults = false;\r\n      recognitionInstance.lang = 'en-US';\r\n\r\n      console.log('âœ… Speech Recognition initialized for continuous mode');\r\n      setRecognition(recognitionInstance);\r\n    } else {\r\n      console.error('âŒ Speech Recognition not supported');\r\n      setStatus('Recognition Not Supported');\r\n      return;\r\n    }\r\n\r\n    // Check speech synthesis\r\n    if ('speechSynthesis' in window) {\r\n      console.log('âœ… Speech Synthesis available');\r\n\r\n      // Load voices\r\n      const loadVoices = () => {\r\n        const voices = window.speechSynthesis.getVoices();\r\n        console.log('ğŸ¤ Loaded voices:', voices.length);\r\n        if (voices.length > 0) {\r\n          setStatus('Voice Ready - Narration Auto-Enabled');\r\n        } else {\r\n          setStatus('Loading voices...');\r\n        }\r\n      };\r\n\r\n      // Load voices immediately if available\r\n      loadVoices();\r\n\r\n      // Also listen for voice loading event\r\n      window.speechSynthesis.onvoiceschanged = loadVoices;\r\n    } else {\r\n      console.error('âŒ Speech Synthesis not supported');\r\n      setStatus('Speech Not Supported');\r\n    }\r\n  }, []);\r\n\r\n  // Smart coordinated speech function (prevents conflicts)\r\n  const speak = (text) => {\r\n    if (!text || text.trim() === '') {\r\n      console.log('âŒ Empty text, skipping speech');\r\n      return;\r\n    }\r\n\r\n    const currentTime = Date.now();\r\n    const normalizedText = text.toLowerCase().trim();\r\n\r\n    // Prevent exact duplicate speech within 2 seconds\r\n    if (lastSpokenText === normalizedText && (currentTime - lastSpeechTime) < 2000) {\r\n      console.log('ğŸš« DUPLICATE SPEECH BLOCKED:', text);\r\n      return;\r\n    }\r\n\r\n    console.log('ğŸ”Š SMART COORDINATED SPEECH:', text);\r\n    setLastSpokenText(normalizedText);\r\n    setLastSpeechTime(currentTime);\r\n\r\n    // Smart coordination: pause voice recognition during speech\r\n    try {\r\n      let wasListening = false;\r\n      \r\n      // Pause voice recognition if it's active\r\n      if (recognition && isCurrentlyListening && isVoiceActive) {\r\n        console.log('â¸ï¸ Pausing voice recognition for speech...');\r\n        wasListening = true;\r\n        try {\r\n          recognition.stop();\r\n          setIsCurrentlyListening(false);\r\n        } catch (e) {\r\n          console.log('Note: Could not pause recognition:', e.message);\r\n        }\r\n      }\r\n\r\n      const utterance = new SpeechSynthesisUtterance(text);\r\n      utterance.rate = 0.9;\r\n      utterance.pitch = 1.0;\r\n      utterance.volume = 1.0;\r\n      utterance.lang = 'en-US';\r\n\r\n      utterance.onend = () => {\r\n        console.log('âœ… Speech completed');\r\n        \r\n        // Resume voice recognition if it was active\r\n        if (wasListening && isVoiceActiveRef.current) {\r\n          console.log('â–¶ï¸ Resuming voice recognition...');\r\n          setTimeout(() => {\r\n            if (isVoiceActiveRef.current && recognition) {\r\n              try {\r\n                recognition.start();\r\n                setIsCurrentlyListening(true);\r\n                setStatus('ğŸ¤ Listening...');\r\n              } catch (error) {\r\n                console.log('Note: Could not resume recognition:', error.message);\r\n              }\r\n            }\r\n          }, 500);\r\n        }\r\n      };\r\n\r\n      utterance.onerror = (error) => {\r\n        console.error('âŒ Speech error:', error);\r\n        \r\n        // Resume recognition even on error\r\n        if (wasListening && isVoiceActiveRef.current) {\r\n          setTimeout(() => {\r\n            if (isVoiceActiveRef.current && recognition) {\r\n              try {\r\n                recognition.start();\r\n                setIsCurrentlyListening(true);\r\n                setStatus('ğŸ¤ Listening...');\r\n              } catch (error) {\r\n                console.log('Note: Could not resume after error:', error.message);\r\n              }\r\n            }\r\n          }, 500);\r\n        }\r\n      };\r\n\r\n      window.speechSynthesis.speak(utterance);\r\n    } catch (error) {\r\n      console.error('âŒ Speech synthesis error:', error);\r\n    }\r\n  };\r\n\r\n  // Fuzzy matching function for better speech recognition\r\n  const fuzzyMatch = (text, patterns) => {\r\n    const normalizedText = text.toLowerCase().replace(/[^a-z\\s]/g, '').trim();\r\n\r\n    for (const pattern of patterns) {\r\n      if (normalizedText.includes(pattern)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    // Check for phonetic similarities\r\n    for (const pattern of patterns) {\r\n      const words = normalizedText.split(' ');\r\n      for (const word of words) {\r\n        if (isPhoneticallySimilar(word, pattern)) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  // Check if words sound similar (basic phonetic matching)\r\n  const isPhoneticallySimilar = (word1, word2) => {\r\n    // Handle common speech recognition errors\r\n    const phoneticMap = {\r\n      'cart': ['cart', 'caret', 'card', 'cat', 'cot', 'cut', 'kart', 'part'],\r\n      'move': ['move', 'moo', 'mood', 'mote', 'mot', 'mu'],\r\n      'go': ['go', 'goo', 'got', 'good'],\r\n      'show': ['show', 'so', 'shoe', 'shaw'],\r\n      'open': ['open', 'opin', 'upon']\r\n    };\r\n\r\n    for (const [key, variants] of Object.entries(phoneticMap)) {\r\n      if (variants.includes(word1) && variants.includes(word2)) {\r\n        return true;\r\n      }\r\n      if (key === word2 && variants.includes(word1)) {\r\n        return true;\r\n      }\r\n      if (key === word1 && variants.includes(word2)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  // Process voice commands with improved fuzzy matching and duplicate prevention\r\n  const processCommand = (transcript) => {\r\n    console.log('ğŸ¯ ===== PROCESSING COMMAND =====');\r\n    console.log('ğŸ¯ Raw transcript:', transcript);\r\n    const command = transcript.toLowerCase().trim();\r\n    console.log('ğŸ¯ Normalized command:', command);\r\n    const currentTime = Date.now();\r\n\r\n    // Prevent processing the same command within 1 second (less aggressive)\r\n    if (lastProcessedCommand === command && (currentTime - lastCommandTime) < 1000) {\r\n      console.log('ğŸš« DUPLICATE COMMAND BLOCKED:', command);\r\n      return;\r\n    }\r\n\r\n    // Update command tracking\r\n    setLastProcessedCommand(command);\r\n    setLastCommandTime(currentTime);\r\n    setLastCommand(transcript);\r\n    setStatus(`Heard: \"${transcript}\"`);\r\n    \r\n    console.log('ğŸ¯ Starting command matching...');\r\n\r\n    // Test commands - VERY SIMPLE MATCHING\r\n    console.log('ğŸ¯ Checking test commands...');\r\n    if (command.includes('hello') || command.includes('test') || command.includes('hi')) {\r\n      console.log('âœ… ===== TEST COMMAND MATCHED =====');\r\n      setStatus('âœ… Voice Working!');\r\n      speak('Hello! Voice recognition is working perfectly!');\r\n      return;\r\n    }\r\n\r\n    // Cart commands - VERY SIMPLE MATCHING\r\n    console.log('ğŸ¯ Checking cart commands...');\r\n    if (command.includes('cart') || command.includes('card') || command.includes('caret')) {\r\n      console.log('âœ… ===== CART COMMAND MATCHED =====');\r\n      setStatus('Opening cart');\r\n      speak('Opening your shopping cart');\r\n      setTimeout(() => {\r\n        console.log('ğŸ›’ Navigating to cart...');\r\n        navigate('/cart');\r\n      }, 500);\r\n      return;\r\n    }\r\n\r\n    // Home navigation with fuzzy matching\r\n    const homePatterns = ['home', 'go home', 'home page', 'main page', 'hom', 'ohm'];\r\n    if (fuzzyMatch(command, homePatterns)) {\r\n      console.log('ğŸ  Navigating to home');\r\n      setStatus('Going to home');\r\n      speak('Going to home page');\r\n      setTimeout(() => navigate('/'), 1000);\r\n      return;\r\n    }\r\n\r\n    // Search commands with fuzzy matching\r\n    const searchPatterns = ['search', 'find', 'look for', 'serch', 'fined', 'surch'];\r\n    if (fuzzyMatch(command, searchPatterns)) {\r\n      let searchTerm = '';\r\n\r\n      // Extract search term with multiple patterns\r\n      const searchPrefixes = ['search for', 'find', 'look for', 'search', 'serch for', 'fined'];\r\n      for (const prefix of searchPrefixes) {\r\n        if (command.includes(prefix)) {\r\n          searchTerm = command.replace(prefix, '').trim();\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (searchTerm) {\r\n        console.log('ğŸ” Searching for:', searchTerm);\r\n        setStatus(`Searching: ${searchTerm}`);\r\n        speak(`Searching for ${searchTerm}`);\r\n        setTimeout(() => navigate(`/?search=${encodeURIComponent(searchTerm)}`), 1000);\r\n      } else {\r\n        setStatus('What to search?');\r\n        speak('What would you like to search for?');\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Health category with fuzzy matching\r\n    const healthPatterns = ['health', 'health category', 'go to health', 'helth', 'helt', 'medical'];\r\n    if (fuzzyMatch(command, healthPatterns)) {\r\n      console.log('ğŸ¥ Opening health category');\r\n      setStatus('Health category');\r\n      speak('Opening health products category');\r\n      setTimeout(() => navigate('/category/health'), 1000);\r\n      return;\r\n    }\r\n\r\n    // Nutrition category with fuzzy matching\r\n    const nutritionPatterns = ['nutrition', 'nutrition category', 'go to nutrition', 'nutriton', 'food', 'vitamins'];\r\n    if (fuzzyMatch(command, nutritionPatterns)) {\r\n      console.log('ğŸ¥— Opening nutrition category');\r\n      setStatus('Nutrition category');\r\n      speak('Opening nutrition products category');\r\n      setTimeout(() => navigate('/category/nutrition'), 1000);\r\n      return;\r\n    }\r\n\r\n    // Help command with fuzzy matching\r\n    const helpPatterns = ['help', 'what can i say', 'commands', 'what to say', 'halp', 'elp'];\r\n    if (fuzzyMatch(command, helpPatterns)) {\r\n      console.log('â“ Help requested');\r\n      setStatus('Help available');\r\n      speak('You can say: hello, go home, show cart, search for vitamins, health category, nutrition category, or help');\r\n      return;\r\n    }\r\n\r\n    // Additional common commands\r\n    // Checkout command\r\n    const checkoutPatterns = ['checkout', 'check out', 'pay now', 'payment', 'chekout'];\r\n    if (fuzzyMatch(command, checkoutPatterns)) {\r\n      console.log('ğŸ’³ Going to checkout');\r\n      setStatus('Going to checkout');\r\n      speak('Going to checkout');\r\n      setTimeout(() => navigate('/checkout'), 1000);\r\n      return;\r\n    }\r\n\r\n    // Back command\r\n    const backPatterns = ['go back', 'back', 'previous', 'return', 'bak'];\r\n    if (fuzzyMatch(command, backPatterns)) {\r\n      console.log('â¬…ï¸ Going back');\r\n      setStatus('Going back');\r\n      speak('Going back');\r\n      setTimeout(() => window.history.back(), 1000);\r\n      return;\r\n    }\r\n\r\n    // Default response\r\n    console.log('â“ Unknown command:', command);\r\n    setStatus(`Unknown: \"${transcript}\"`);\r\n    speak(`I heard ${transcript}, but I don't understand that command. Try saying hello, go home, show cart, or search for something.`);\r\n  };\r\n\r\n  // Removed complex setupContinuousRecognition - using simpler approach\r\n\r\n  // Simple voice recognition toggle\r\n  const toggleVoiceRecognition = async () => {\r\n    console.log('ğŸ¤ Voice recognition button clicked, current state:', isVoiceActive);\r\n\r\n    if (!recognition) {\r\n      alert('âŒ Voice recognition not supported. Please use Chrome browser.');\r\n      return;\r\n    }\r\n\r\n    if (isVoiceActive) {\r\n      // Turn OFF voice recognition\r\n      console.log('ğŸ”‡ Turning OFF voice recognition');\r\n      setIsVoiceActive(false);\r\n      isVoiceActiveRef.current = false; // Update ref\r\n      setIsCurrentlyListening(false);\r\n      setStatus('Voice OFF');\r\n\r\n      // Clear any restart timeout\r\n      if (restartTimeout) {\r\n        clearTimeout(restartTimeout);\r\n        setRestartTimeout(null);\r\n      }\r\n\r\n      try {\r\n        recognition.stop();\r\n        recognition.abort();\r\n      } catch (error) {\r\n        console.log('Note: Error stopping recognition:', error.message);\r\n      }\r\n\r\n      speak('Voice recognition turned off');\r\n\r\n    } else {\r\n      // Turn ON voice recognition\r\n      console.log('ğŸ”Š Turning ON voice recognition');\r\n\r\n      try {\r\n        // Request microphone permission\r\n        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n          await navigator.mediaDevices.getUserMedia({ audio: true });\r\n          console.log('âœ… Microphone permission granted');\r\n        }\r\n      } catch (error) {\r\n        console.error('âŒ Microphone permission denied:', error);\r\n        alert('âŒ Please allow microphone access to use voice commands.');\r\n        return;\r\n      }\r\n\r\n      setIsVoiceActive(true);\r\n      isVoiceActiveRef.current = true; // Update ref\r\n      setStatus('Voice ON');\r\n\r\n      // Setup simple continuous recognition\r\n      setupContinuousRecognition();\r\n\r\n      speak('Voice recognition activated. Say hello to test.');\r\n    }\r\n  };\r\n\r\n  // Simple continuous recognition setup\r\n  const setupContinuousRecognition = () => {\r\n    if (!recognition) return;\r\n\r\n    console.log('ğŸ¤ Setting up SIMPLE continuous recognition...');\r\n\r\n    recognition.continuous = true;\r\n    recognition.interimResults = false;\r\n    recognition.lang = 'en-US';\r\n\r\n    recognition.onstart = () => {\r\n      console.log('âœ… Simple voice recognition started');\r\n      setIsCurrentlyListening(true);\r\n      setStatus('ğŸ¤ Listening...');\r\n    };\r\n\r\n    recognition.onresult = (event) => {\r\n      console.log('ğŸ“ Voice result received');\r\n\r\n      if (event.results && event.results.length > 0) {\r\n        const transcript = event.results[0][0].transcript;\r\n        const confidence = event.results[0][0].confidence;\r\n        console.log('ğŸ“ Transcript:', transcript, 'Confidence:', confidence);\r\n\r\n        processCommand(transcript);\r\n      }\r\n    };\r\n\r\n    recognition.onerror = (event) => {\r\n      console.error('âŒ Voice recognition error:', event.error);\r\n      setIsCurrentlyListening(false);\r\n\r\n      if (event.error === 'not-allowed') {\r\n        alert('âŒ Microphone access denied. Please allow microphone access.');\r\n        setIsVoiceActive(false);\r\n        setStatus('Voice OFF - Permission Denied');\r\n        return;\r\n      } else if (event.error === 'no-speech') {\r\n        console.log('âš ï¸ No speech detected, will auto-restart...');\r\n        setStatus('ğŸ¤ Waiting for speech...');\r\n      } else {\r\n        console.log('âš ï¸ Voice error:', event.error, 'will auto-restart...');\r\n        setStatus(`âš ï¸ ${event.error} - restarting...`);\r\n      }\r\n    };\r\n\r\n    recognition.onend = () => {\r\n      console.log('ğŸ”š Voice recognition ended, isVoiceActiveRef:', isVoiceActiveRef.current);\r\n      setIsCurrentlyListening(false);\r\n\r\n      // Reliable auto-restart using ref\r\n      if (isVoiceActiveRef.current) {\r\n        console.log('ğŸ”„ Auto-restarting voice recognition...');\r\n        setStatus('ğŸ”„ Restarting...');\r\n\r\n        // Clear any existing restart timeout\r\n        if (restartTimeout) {\r\n          clearTimeout(restartTimeout);\r\n        }\r\n\r\n        // Restart with shorter, more reliable timing\r\n        const timeout = setTimeout(() => {\r\n          if (isVoiceActiveRef.current) {\r\n            try {\r\n              console.log('ğŸ¬ Restarting recognition...');\r\n              recognition.start();\r\n              setIsCurrentlyListening(true);\r\n              setStatus('ğŸ¤ Listening...');\r\n            } catch (error) {\r\n              console.log('Could not restart recognition:', error.message);\r\n              if (error.message.includes('already started')) {\r\n                console.log('â„¹ï¸ Recognition already running');\r\n                setIsCurrentlyListening(true);\r\n                setStatus('ğŸ¤ Listening...');\r\n              } else {\r\n                console.log('âš ï¸ Restart failed, trying once more...');\r\n                setStatus('ğŸ”„ Retrying...');\r\n                // One more try with longer delay\r\n                setTimeout(() => {\r\n                  if (isVoiceActiveRef.current) {\r\n                    try {\r\n                      recognition.start();\r\n                      setIsCurrentlyListening(true);\r\n                      setStatus('ğŸ¤ Listening...');\r\n                    } catch (retryError) {\r\n                      console.log('Final retry failed:', retryError.message);\r\n                      setStatus('âŒ Voice recognition stopped');\r\n                      setIsVoiceActive(false);\r\n                      isVoiceActiveRef.current = false;\r\n                    }\r\n                  }\r\n                }, 1000);\r\n              }\r\n            }\r\n          }\r\n        }, 500); // Even faster restart\r\n\r\n        setRestartTimeout(timeout);\r\n      } else {\r\n        setStatus('Voice OFF');\r\n      }\r\n    };\r\n\r\n    // Start recognition\r\n    try {\r\n      console.log('ğŸ¬ Starting simple recognition...');\r\n      recognition.start();\r\n    } catch (error) {\r\n      console.error('âŒ Error starting recognition:', error);\r\n      if (error.message.includes('already started')) {\r\n        console.log('â„¹ï¸ Recognition already running');\r\n        setIsCurrentlyListening(true);\r\n        setStatus('ğŸ¤ Listening...');\r\n      } else {\r\n        alert(`âŒ Error starting voice recognition: ${error.message}`);\r\n        setIsVoiceActive(false);\r\n        setStatus('Voice OFF');\r\n      }\r\n    }\r\n  };\r\n\r\n  if (!recognition) {\r\n    return (\r\n      <div style={{ position: 'fixed', bottom: '20px', right: '20px', zIndex: 1000 }}>\r\n        <div style={{\r\n          background: '#ff6b6b',\r\n          color: 'white',\r\n          padding: '12px',\r\n          borderRadius: '8px',\r\n          fontSize: '14px'\r\n        }}>\r\n          Voice not supported.<br />Please use Chrome browser.\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Comprehensive test speech function\r\n  const testSpeech = () => {\r\n    console.log('ğŸ”Š COMPREHENSIVE SPEECH TEST...');\r\n\r\n    // Check browser support\r\n    if (!('speechSynthesis' in window)) {\r\n      alert('âŒ Speech synthesis not supported. Please use Chrome browser.');\r\n      return;\r\n    }\r\n\r\n    // Check voices\r\n    const voices = window.speechSynthesis.getVoices();\r\n    console.log('ğŸ¤ SPEECH DIAGNOSTICS:');\r\n    console.log('- Available voices:', voices.length);\r\n    console.log('- Narration enabled:', isNarrationEnabled);\r\n    console.log('- Speech synthesis speaking:', window.speechSynthesis.speaking);\r\n    console.log('- Speech synthesis pending:', window.speechSynthesis.pending);\r\n\r\n    if (voices.length === 0) {\r\n      console.log('âš ï¸ No voices loaded, trying to load...');\r\n      // Try to trigger voice loading\r\n      window.speechSynthesis.getVoices();\r\n      setTimeout(() => {\r\n        const newVoices = window.speechSynthesis.getVoices();\r\n        console.log('ğŸ¤ Voices after reload:', newVoices.length);\r\n        if (newVoices.length > 0) {\r\n          testActualSpeech();\r\n        } else {\r\n          alert('âŒ No voices available. Please refresh the page and try again.');\r\n        }\r\n      }, 1000);\r\n    } else {\r\n      testActualSpeech();\r\n    }\r\n  };\r\n\r\n  // Test actual speech synthesis\r\n  const testActualSpeech = () => {\r\n    console.log('ğŸ”Š TESTING ACTUAL SPEECH...');\r\n\r\n    try {\r\n      // Force cancel any ongoing speech\r\n      window.speechSynthesis.cancel();\r\n\r\n      const testText = 'Testing speech synthesis. Can you hear this message clearly?';\r\n      const utterance = new SpeechSynthesisUtterance(testText);\r\n      utterance.rate = 1.0;\r\n      utterance.pitch = 1.0;\r\n      utterance.volume = 1.0;\r\n      utterance.lang = 'en-US';\r\n\r\n      const voices = window.speechSynthesis.getVoices();\r\n      if (voices.length > 0) {\r\n        utterance.voice = voices[0];\r\n        console.log('ğŸ¤ Using voice:', voices[0].name);\r\n      }\r\n\r\n      utterance.onstart = () => {\r\n        console.log('âœ… SPEECH TEST STARTED SUCCESSFULLY');\r\n      };\r\n\r\n      utterance.onend = () => {\r\n        console.log('âœ… SPEECH TEST COMPLETED SUCCESSFULLY');\r\n      };\r\n\r\n      utterance.onerror = (event) => {\r\n        console.error('âŒ SPEECH TEST ERROR:', event.error);\r\n        alert(`Speech test failed: ${event.error}`);\r\n      };\r\n\r\n      console.log('ğŸ”Š STARTING SPEECH TEST...');\r\n      window.speechSynthesis.speak(utterance);\r\n\r\n    } catch (error) {\r\n      console.error('âŒ SPEECH TEST EXCEPTION:', error);\r\n      alert(`Speech test exception: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'fixed', bottom: '20px', right: '20px', zIndex: 1000 }}>\r\n      {/* Test voice recognition button */}\r\n      <button\r\n        onClick={testVoiceRecognition}\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: '130px',\r\n          right: '0px',\r\n          width: '40px',\r\n          height: '30px',\r\n          borderRadius: '15px',\r\n          backgroundColor: '#9C27B0',\r\n          color: 'white',\r\n          border: 'none',\r\n          fontSize: '12px',\r\n          cursor: 'pointer',\r\n          boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)'\r\n        }}\r\n        title=\"Test voice recognition\"\r\n      >\r\n        ğŸ™ï¸\r\n      </button>\r\n\r\n      {/* Voice Read-Aloud System Toggle Button (Prominent) */}\r\n      <button\r\n        onClick={handleNarrationToggle}\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: '100px',\r\n          right: '0px',\r\n          width: '50px',\r\n          height: '40px',\r\n          borderRadius: '20px',\r\n          backgroundColor: isNarrationEnabled ? '#FF9800' : '#666',\r\n          color: 'white',\r\n          border: isNarrationEnabled ? '2px solid #F57C00' : '2px solid #444',\r\n          fontSize: '16px',\r\n          cursor: 'pointer',\r\n          boxShadow: isNarrationEnabled ? '0 4px 12px rgba(255, 152, 0, 0.4)' : '0 2px 8px rgba(0, 0, 0, 0.15)',\r\n          transition: 'all 0.3s ease',\r\n          fontWeight: 'bold'\r\n        }}\r\n        title={isNarrationEnabled ? 'Turn OFF Read-Aloud (Independent)' : 'Turn ON Read-Aloud (Independent)'}\r\n      >\r\n        {isNarrationEnabled ? 'ğŸ“¢' : 'ğŸ”‡'}\r\n      </button>\r\n\r\n      {/* Read-Aloud Status Label */}\r\n      {isNarrationEnabled && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          bottom: '145px',\r\n          right: '0px',\r\n          background: '#FF9800',\r\n          color: 'white',\r\n          padding: '2px 6px',\r\n          borderRadius: '4px',\r\n          fontSize: '9px',\r\n          fontWeight: 'bold',\r\n          textAlign: 'center',\r\n          boxShadow: '0 2px 4px rgba(0,0,0,0.2)'\r\n        }}>\r\n          READ-ALOUD ON\r\n        </div>\r\n      )}\r\n\r\n      {/* Test speech button */}\r\n      <button\r\n        onClick={testSpeech}\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: '70px',\r\n          right: '0px',\r\n          width: '40px',\r\n          height: '30px',\r\n          borderRadius: '15px',\r\n          backgroundColor: '#4CAF50',\r\n          color: 'white',\r\n          border: 'none',\r\n          fontSize: '12px',\r\n          cursor: 'pointer',\r\n          boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)'\r\n        }}\r\n        title=\"Test speech output\"\r\n      >\r\n        ğŸ”Š\r\n      </button>\r\n\r\n      {/* Main voice toggle button */}\r\n      <button\r\n        onClick={toggleVoiceRecognition}\r\n        style={{\r\n          width: '60px',\r\n          height: '60px',\r\n          borderRadius: '50%',\r\n          backgroundColor: isVoiceActive ? '#4CAF50' : '#666',\r\n          color: 'white',\r\n          border: isVoiceActive ? '3px solid #2E7D32' : '3px solid #444',\r\n          fontSize: '24px',\r\n          cursor: 'pointer',\r\n          boxShadow: isVoiceActive ? '0 4px 15px rgba(76, 175, 80, 0.4)' : '0 4px 12px rgba(0, 0, 0, 0.15)',\r\n          animation: isCurrentlyListening ? 'pulse 1s infinite' : 'none',\r\n          transition: 'all 0.3s ease'\r\n        }}\r\n        title={isVoiceActive ? 'Turn OFF Voice Recognition (Independent)' : 'Turn ON Voice Recognition (Independent)'}\r\n      >\r\n        {isVoiceActive ? 'ğŸ¤' : 'ğŸ”‡'}\r\n      </button>\r\n\r\n      {/* Status display */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        bottom: '70px',\r\n        right: '0px',\r\n        background: isVoiceActive ? '#E8F5E8' : 'white',\r\n        padding: '6px 10px',\r\n        borderRadius: '6px',\r\n        boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\r\n        fontSize: '11px',\r\n        whiteSpace: 'nowrap',\r\n        maxWidth: '200px',\r\n        textAlign: 'center',\r\n        border: isVoiceActive ? '1px solid #4CAF50' : '1px solid #ddd',\r\n        color: isVoiceActive ? '#2E7D32' : '#333'\r\n      }}>\r\n        {status}\r\n      </div>\r\n\r\n      {/* Voice mode indicator with speech status */}\r\n      {isVoiceActive && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          bottom: '100px',\r\n          right: '0px',\r\n          background: isSpeaking ? '#FF5722' : isCurrentlyListening ? '#4CAF50' : '#FFC107',\r\n          color: 'white',\r\n          padding: '4px 8px',\r\n          borderRadius: '4px',\r\n          fontSize: '10px',\r\n          fontWeight: 'bold',\r\n          textAlign: 'center',\r\n          animation: isCurrentlyListening ? 'pulse 1s infinite' : 'none'\r\n        }}>\r\n          {isSpeaking ? 'ğŸ”Š SPEAKING' : isCurrentlyListening ? 'ğŸ¤ LISTENING' : 'â¸ï¸ READY'}\r\n        </div>\r\n      )}\r\n\r\n      {/* Last command display */}\r\n      {lastCommand && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          bottom: isVoiceActive ? '130px' : '100px',\r\n          right: '0px',\r\n          background: '#e8f5e8',\r\n          padding: '4px 8px',\r\n          borderRadius: '4px',\r\n          fontSize: '10px',\r\n          maxWidth: '150px',\r\n          wordBreak: 'break-word',\r\n          border: '1px solid #4CAF50'\r\n        }}>\r\n          Last: \"{lastCommand}\"\r\n        </div>\r\n      )}\r\n\r\n      <style jsx>{`\r\n        @keyframes pulse {\r\n          0% { transform: scale(1); }\r\n          50% { transform: scale(1.1); }\r\n          100% { transform: scale(1); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BasicVoiceButton;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,iBAAiB,QAAQ,kCAAkC;AACpE,SAASC,qBAAqB,QAAQ,sCAAsC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7E,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACY,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACvE,MAAM,CAACc,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACgB,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACkB,MAAM,EAAEC,SAAS,CAAC,GAAGnB,QAAQ,CAAC,OAAO,CAAC;EAC7C,MAAM,CAACoB,cAAc,EAAEC,iBAAiB,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACsB,cAAc,EAAEC,iBAAiB,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACwB,cAAc,EAAEC,iBAAiB,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAM,CAAC0B,oBAAoB,EAAEC,uBAAuB,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EACpE,MAAM,CAAC4B,eAAe,EAAEC,kBAAkB,CAAC,GAAG7B,QAAQ,CAAC,CAAC,CAAC;EACzD,MAAM8B,gBAAgB,GAAG5B,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;EACxC,MAAM6B,QAAQ,GAAG5B,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAE6B,kBAAkB;IAAEC;EAAgB,CAAC,GAAG7B,iBAAiB,CAAC,CAAC;;EAEnE;EACA,MAAM8B,qBAAqB,GAAGA,CAAA,KAAM;IAClCC,OAAO,CAACC,GAAG,CAAC,4DAA4D,EAAEJ,kBAAkB,CAAC;IAC7F,MAAMK,UAAU,GAAGL,kBAAkB;IACrCC,eAAe,CAAC,CAAC;;IAEjB;IACAK,UAAU,CAAC,MAAM;MACf,IAAID,UAAU,EAAE;QACdF,OAAO,CAACC,GAAG,CAAC,gDAAgD,CAAC;QAC7DG,KAAK,CAAC,uBAAuB,CAAC;MAChC,CAAC,MAAM;QACLJ,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC;QAC5DG,KAAK,CAAC,sBAAsB,CAAC;MAC/B;IACF,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;EACD,MAAM;IAAEC,gBAAgB;IAAEC;EAAW,CAAC,GAAGpC,qBAAqB,CAAC,CAAC;;EAEhE;EACA,MAAMqC,oBAAoB,GAAGA,CAAA,KAAM;IACjCP,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;;IAElD;IACA,IAAI,EAAE,yBAAyB,IAAIO,MAAM,CAAC,EAAE;MAC1CC,KAAK,CAAC,+DAA+D,CAAC;MACtE;IACF;IAEAT,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;;IAEhD;IACA,IAAIS,SAAS,CAACC,YAAY,IAAID,SAAS,CAACC,YAAY,CAACC,YAAY,EAAE;MACjEF,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC,CACjDC,IAAI,CAAC,MAAM;QACVd,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;QAC9Cc,oBAAoB,CAAC,CAAC;MACxB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;QAChBjB,OAAO,CAACiB,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;QACvDR,KAAK,CAAC,iDAAiD,CAAC;MAC1D,CAAC,CAAC;IACN,CAAC,MAAM;MACL;MACAM,oBAAoB,CAAC,CAAC;IACxB;EACF,CAAC;;EAED;EACA,MAAMA,oBAAoB,GAAGA,CAAA,KAAM;IACjC,IAAI;MACFf,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAC;MAE3D,MAAMiB,eAAe,GAAG,IAAIV,MAAM,CAACW,uBAAuB,CAAC,CAAC;MAC5DD,eAAe,CAACE,UAAU,GAAG,KAAK;MAClCF,eAAe,CAACG,cAAc,GAAG,KAAK;MACtCH,eAAe,CAACI,IAAI,GAAG,OAAO;MAE9B,IAAIC,WAAW,GAAG,KAAK;MAEvBL,eAAe,CAACM,OAAO,GAAG,MAAM;QAC9BxB,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;QACnCsB,WAAW,GAAG,IAAI;QAClBd,KAAK,CAAC,iDAAiD,CAAC;MAC1D,CAAC;MAEDS,eAAe,CAACO,QAAQ,GAAIC,KAAK,IAAK;QACpC,IAAIA,KAAK,CAACC,OAAO,IAAID,KAAK,CAACC,OAAO,CAACC,MAAM,GAAG,CAAC,EAAE;UAC7C,MAAMC,UAAU,GAAGH,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACE,UAAU,CAACC,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;UACtE,MAAMC,UAAU,GAAGN,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACK,UAAU;UACjDhC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE4B,UAAU,EAAEG,UAAU,CAAC;UAC5DvB,KAAK,CAAC,wCAAwCoB,UAAU,kBAAkBG,UAAU,CAACC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;QACrG;MACF,CAAC;MAEDf,eAAe,CAACgB,OAAO,GAAIR,KAAK,IAAK;QACnC1B,OAAO,CAACiB,KAAK,CAAC,qBAAqB,EAAES,KAAK,CAACT,KAAK,CAAC;QACjD,IAAIkB,QAAQ,GAAG,2BAA2B;QAC1C,QAAQT,KAAK,CAACT,KAAK;UACjB,KAAK,aAAa;YAChBkB,QAAQ,IAAI,2DAA2D;YACvE;UACF,KAAK,WAAW;YACdA,QAAQ,IAAI,wDAAwD;YACpE;UACF,KAAK,SAAS;YACZA,QAAQ,IAAI,uDAAuD;YACnE;UACF;YACEA,QAAQ,IAAIT,KAAK,CAACT,KAAK;QAC3B;QACAR,KAAK,CAAC,KAAK0B,QAAQ,EAAE,CAAC;MACxB,CAAC;MAEDjB,eAAe,CAACkB,KAAK,GAAG,MAAM;QAC5BpC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;QAClC,IAAI,CAACsB,WAAW,EAAE;UAChBd,KAAK,CAAC,2EAA2E,CAAC;QACpF;MACF,CAAC;MAEDT,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;MACpDiB,eAAe,CAACmB,KAAK,CAAC,CAAC;IAEzB,CAAC,CAAC,OAAOpB,KAAK,EAAE;MACdjB,OAAO,CAACiB,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxDR,KAAK,CAAC,YAAYQ,KAAK,CAACqB,OAAO,8BAA8B,CAAC;IAChE;EACF,CAAC;;EAED;EACAxE,SAAS,CAAC,MAAM;IACdkC,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;;IAE9C;IACA,IAAI,yBAAyB,IAAIO,MAAM,EAAE;MACvC,MAAM+B,mBAAmB,GAAG,IAAI/B,MAAM,CAACW,uBAAuB,CAAC,CAAC;MAChEoB,mBAAmB,CAACnB,UAAU,GAAG,IAAI,CAAC,CAAC;MACvCmB,mBAAmB,CAAClB,cAAc,GAAG,KAAK;MAC1CkB,mBAAmB,CAACjB,IAAI,GAAG,OAAO;MAElCtB,OAAO,CAACC,GAAG,CAAC,sDAAsD,CAAC;MACnErB,cAAc,CAAC2D,mBAAmB,CAAC;IACrC,CAAC,MAAM;MACLvC,OAAO,CAACiB,KAAK,CAAC,oCAAoC,CAAC;MACnDjC,SAAS,CAAC,2BAA2B,CAAC;MACtC;IACF;;IAEA;IACA,IAAI,iBAAiB,IAAIwB,MAAM,EAAE;MAC/BR,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;;MAE3C;MACA,MAAMuC,UAAU,GAAGA,CAAA,KAAM;QACvB,MAAMC,MAAM,GAAGjC,MAAM,CAACkC,eAAe,CAACC,SAAS,CAAC,CAAC;QACjD3C,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEwC,MAAM,CAACb,MAAM,CAAC;QAC/C,IAAIa,MAAM,CAACb,MAAM,GAAG,CAAC,EAAE;UACrB5C,SAAS,CAAC,sCAAsC,CAAC;QACnD,CAAC,MAAM;UACLA,SAAS,CAAC,mBAAmB,CAAC;QAChC;MACF,CAAC;;MAED;MACAwD,UAAU,CAAC,CAAC;;MAEZ;MACAhC,MAAM,CAACkC,eAAe,CAACE,eAAe,GAAGJ,UAAU;IACrD,CAAC,MAAM;MACLxC,OAAO,CAACiB,KAAK,CAAC,kCAAkC,CAAC;MACjDjC,SAAS,CAAC,sBAAsB,CAAC;IACnC;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMoB,KAAK,GAAIyC,IAAI,IAAK;IACtB,IAAI,CAACA,IAAI,IAAIA,IAAI,CAACd,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;MAC/B/B,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;MAC5C;IACF;IAEA,MAAM6C,WAAW,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IAC9B,MAAMC,cAAc,GAAGJ,IAAI,CAACf,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;;IAEhD;IACA,IAAI5C,cAAc,KAAK8D,cAAc,IAAKH,WAAW,GAAGzD,cAAc,GAAI,IAAI,EAAE;MAC9EW,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAE4C,IAAI,CAAC;MACjD;IACF;IAEA7C,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAE4C,IAAI,CAAC;IACjDzD,iBAAiB,CAAC6D,cAAc,CAAC;IACjC3D,iBAAiB,CAACwD,WAAW,CAAC;;IAE9B;IACA,IAAI;MACF,IAAII,YAAY,GAAG,KAAK;;MAExB;MACA,IAAIvE,WAAW,IAAIF,oBAAoB,IAAIF,aAAa,EAAE;QACxDyB,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAC;QACzDiD,YAAY,GAAG,IAAI;QACnB,IAAI;UACFvE,WAAW,CAACwE,IAAI,CAAC,CAAC;UAClBzE,uBAAuB,CAAC,KAAK,CAAC;QAChC,CAAC,CAAC,OAAO0E,CAAC,EAAE;UACVpD,OAAO,CAACC,GAAG,CAAC,oCAAoC,EAAEmD,CAAC,CAACd,OAAO,CAAC;QAC9D;MACF;MAEA,MAAMe,SAAS,GAAG,IAAIC,wBAAwB,CAACT,IAAI,CAAC;MACpDQ,SAAS,CAACE,IAAI,GAAG,GAAG;MACpBF,SAAS,CAACG,KAAK,GAAG,GAAG;MACrBH,SAAS,CAACI,MAAM,GAAG,GAAG;MACtBJ,SAAS,CAAC/B,IAAI,GAAG,OAAO;MAExB+B,SAAS,CAACjB,KAAK,GAAG,MAAM;QACtBpC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;;QAEjC;QACA,IAAIiD,YAAY,IAAIvD,gBAAgB,CAAC+D,OAAO,EAAE;UAC5C1D,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;UAC/CE,UAAU,CAAC,MAAM;YACf,IAAIR,gBAAgB,CAAC+D,OAAO,IAAI/E,WAAW,EAAE;cAC3C,IAAI;gBACFA,WAAW,CAAC0D,KAAK,CAAC,CAAC;gBACnB3D,uBAAuB,CAAC,IAAI,CAAC;gBAC7BM,SAAS,CAAC,iBAAiB,CAAC;cAC9B,CAAC,CAAC,OAAOiC,KAAK,EAAE;gBACdjB,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAEgB,KAAK,CAACqB,OAAO,CAAC;cACnE;YACF;UACF,CAAC,EAAE,GAAG,CAAC;QACT;MACF,CAAC;MAEDe,SAAS,CAACnB,OAAO,GAAIjB,KAAK,IAAK;QAC7BjB,OAAO,CAACiB,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;;QAEvC;QACA,IAAIiC,YAAY,IAAIvD,gBAAgB,CAAC+D,OAAO,EAAE;UAC5CvD,UAAU,CAAC,MAAM;YACf,IAAIR,gBAAgB,CAAC+D,OAAO,IAAI/E,WAAW,EAAE;cAC3C,IAAI;gBACFA,WAAW,CAAC0D,KAAK,CAAC,CAAC;gBACnB3D,uBAAuB,CAAC,IAAI,CAAC;gBAC7BM,SAAS,CAAC,iBAAiB,CAAC;cAC9B,CAAC,CAAC,OAAOiC,KAAK,EAAE;gBACdjB,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAEgB,KAAK,CAACqB,OAAO,CAAC;cACnE;YACF;UACF,CAAC,EAAE,GAAG,CAAC;QACT;MACF,CAAC;MAED9B,MAAM,CAACkC,eAAe,CAACtC,KAAK,CAACiD,SAAS,CAAC;IACzC,CAAC,CAAC,OAAOpC,KAAK,EAAE;MACdjB,OAAO,CAACiB,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACnD;EACF,CAAC;;EAED;EACA,MAAM0C,UAAU,GAAGA,CAACd,IAAI,EAAEe,QAAQ,KAAK;IACrC,MAAMX,cAAc,GAAGJ,IAAI,CAACf,WAAW,CAAC,CAAC,CAAC+B,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC9B,IAAI,CAAC,CAAC;IAEzE,KAAK,MAAM+B,OAAO,IAAIF,QAAQ,EAAE;MAC9B,IAAIX,cAAc,CAACc,QAAQ,CAACD,OAAO,CAAC,EAAE;QACpC,OAAO,IAAI;MACb;IACF;;IAEA;IACA,KAAK,MAAMA,OAAO,IAAIF,QAAQ,EAAE;MAC9B,MAAMI,KAAK,GAAGf,cAAc,CAACgB,KAAK,CAAC,GAAG,CAAC;MACvC,KAAK,MAAMC,IAAI,IAAIF,KAAK,EAAE;QACxB,IAAIG,qBAAqB,CAACD,IAAI,EAAEJ,OAAO,CAAC,EAAE;UACxC,OAAO,IAAI;QACb;MACF;IACF;IAEA,OAAO,KAAK;EACd,CAAC;;EAED;EACA,MAAMK,qBAAqB,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IAC9C;IACA,MAAMC,WAAW,GAAG;MAClB,MAAM,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC;MACtE,MAAM,EAAE,CAAC,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC;MACpD,IAAI,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC;MAClC,MAAM,EAAE,CAAC,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,CAAC;MACtC,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM;IACjC,CAAC;IAED,KAAK,MAAM,CAACC,GAAG,EAAEC,QAAQ,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACJ,WAAW,CAAC,EAAE;MACzD,IAAIE,QAAQ,CAACT,QAAQ,CAACK,KAAK,CAAC,IAAII,QAAQ,CAACT,QAAQ,CAACM,KAAK,CAAC,EAAE;QACxD,OAAO,IAAI;MACb;MACA,IAAIE,GAAG,KAAKF,KAAK,IAAIG,QAAQ,CAACT,QAAQ,CAACK,KAAK,CAAC,EAAE;QAC7C,OAAO,IAAI;MACb;MACA,IAAIG,GAAG,KAAKH,KAAK,IAAII,QAAQ,CAACT,QAAQ,CAACM,KAAK,CAAC,EAAE;QAC7C,OAAO,IAAI;MACb;IACF;IAEA,OAAO,KAAK;EACd,CAAC;;EAED;EACA,MAAMM,cAAc,GAAI9C,UAAU,IAAK;IACrC7B,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;IAChDD,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE4B,UAAU,CAAC;IAC7C,MAAM+C,OAAO,GAAG/C,UAAU,CAACC,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IAC/C/B,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE2E,OAAO,CAAC;IAC9C,MAAM9B,WAAW,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;;IAE9B;IACA,IAAIzD,oBAAoB,KAAKqF,OAAO,IAAK9B,WAAW,GAAGrD,eAAe,GAAI,IAAI,EAAE;MAC9EO,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAE2E,OAAO,CAAC;MACrD;IACF;;IAEA;IACApF,uBAAuB,CAACoF,OAAO,CAAC;IAChClF,kBAAkB,CAACoD,WAAW,CAAC;IAC/BhE,cAAc,CAAC+C,UAAU,CAAC;IAC1B7C,SAAS,CAAC,WAAW6C,UAAU,GAAG,CAAC;IAEnC7B,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;;IAE9C;IACAD,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;IAC3C,IAAI2E,OAAO,CAACb,QAAQ,CAAC,OAAO,CAAC,IAAIa,OAAO,CAACb,QAAQ,CAAC,MAAM,CAAC,IAAIa,OAAO,CAACb,QAAQ,CAAC,IAAI,CAAC,EAAE;MACnF/D,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;MACjDjB,SAAS,CAAC,kBAAkB,CAAC;MAC7BoB,KAAK,CAAC,gDAAgD,CAAC;MACvD;IACF;;IAEA;IACAJ,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;IAC3C,IAAI2E,OAAO,CAACb,QAAQ,CAAC,MAAM,CAAC,IAAIa,OAAO,CAACb,QAAQ,CAAC,MAAM,CAAC,IAAIa,OAAO,CAACb,QAAQ,CAAC,OAAO,CAAC,EAAE;MACrF/D,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;MACjDjB,SAAS,CAAC,cAAc,CAAC;MACzBoB,KAAK,CAAC,4BAA4B,CAAC;MACnCD,UAAU,CAAC,MAAM;QACfH,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;QACvCL,QAAQ,CAAC,OAAO,CAAC;MACnB,CAAC,EAAE,GAAG,CAAC;MACP;IACF;;IAEA;IACA,MAAMiF,YAAY,GAAG,CAAC,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,CAAC;IAChF,IAAIlB,UAAU,CAACiB,OAAO,EAAEC,YAAY,CAAC,EAAE;MACrC7E,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpCjB,SAAS,CAAC,eAAe,CAAC;MAC1BoB,KAAK,CAAC,oBAAoB,CAAC;MAC3BD,UAAU,CAAC,MAAMP,QAAQ,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC;MACrC;IACF;;IAEA;IACA,MAAMkF,cAAc,GAAG,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IAChF,IAAInB,UAAU,CAACiB,OAAO,EAAEE,cAAc,CAAC,EAAE;MACvC,IAAIC,UAAU,GAAG,EAAE;;MAEnB;MACA,MAAMC,cAAc,GAAG,CAAC,YAAY,EAAE,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,WAAW,EAAE,OAAO,CAAC;MACzF,KAAK,MAAMC,MAAM,IAAID,cAAc,EAAE;QACnC,IAAIJ,OAAO,CAACb,QAAQ,CAACkB,MAAM,CAAC,EAAE;UAC5BF,UAAU,GAAGH,OAAO,CAACf,OAAO,CAACoB,MAAM,EAAE,EAAE,CAAC,CAAClD,IAAI,CAAC,CAAC;UAC/C;QACF;MACF;MAEA,IAAIgD,UAAU,EAAE;QACd/E,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAE8E,UAAU,CAAC;QAC5C/F,SAAS,CAAC,cAAc+F,UAAU,EAAE,CAAC;QACrC3E,KAAK,CAAC,iBAAiB2E,UAAU,EAAE,CAAC;QACpC5E,UAAU,CAAC,MAAMP,QAAQ,CAAC,YAAYsF,kBAAkB,CAACH,UAAU,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;MAChF,CAAC,MAAM;QACL/F,SAAS,CAAC,iBAAiB,CAAC;QAC5BoB,KAAK,CAAC,oCAAoC,CAAC;MAC7C;MACA;IACF;;IAEA;IACA,MAAM+E,cAAc,GAAG,CAAC,QAAQ,EAAE,iBAAiB,EAAE,cAAc,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS,CAAC;IAChG,IAAIxB,UAAU,CAACiB,OAAO,EAAEO,cAAc,CAAC,EAAE;MACvCnF,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;MACzCjB,SAAS,CAAC,iBAAiB,CAAC;MAC5BoB,KAAK,CAAC,kCAAkC,CAAC;MACzCD,UAAU,CAAC,MAAMP,QAAQ,CAAC,kBAAkB,CAAC,EAAE,IAAI,CAAC;MACpD;IACF;;IAEA;IACA,MAAMwF,iBAAiB,GAAG,CAAC,WAAW,EAAE,oBAAoB,EAAE,iBAAiB,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,CAAC;IAChH,IAAIzB,UAAU,CAACiB,OAAO,EAAEQ,iBAAiB,CAAC,EAAE;MAC1CpF,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;MAC5CjB,SAAS,CAAC,oBAAoB,CAAC;MAC/BoB,KAAK,CAAC,qCAAqC,CAAC;MAC5CD,UAAU,CAAC,MAAMP,QAAQ,CAAC,qBAAqB,CAAC,EAAE,IAAI,CAAC;MACvD;IACF;;IAEA;IACA,MAAMyF,YAAY,GAAG,CAAC,MAAM,EAAE,gBAAgB,EAAE,UAAU,EAAE,aAAa,EAAE,MAAM,EAAE,KAAK,CAAC;IACzF,IAAI1B,UAAU,CAACiB,OAAO,EAAES,YAAY,CAAC,EAAE;MACrCrF,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MAC/BjB,SAAS,CAAC,gBAAgB,CAAC;MAC3BoB,KAAK,CAAC,2GAA2G,CAAC;MAClH;IACF;;IAEA;IACA;IACA,MAAMkF,gBAAgB,GAAG,CAAC,UAAU,EAAE,WAAW,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;IACnF,IAAI3B,UAAU,CAACiB,OAAO,EAAEU,gBAAgB,CAAC,EAAE;MACzCtF,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;MACnCjB,SAAS,CAAC,mBAAmB,CAAC;MAC9BoB,KAAK,CAAC,mBAAmB,CAAC;MAC1BD,UAAU,CAAC,MAAMP,QAAQ,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC;MAC7C;IACF;;IAEA;IACA,MAAM2F,YAAY,GAAG,CAAC,SAAS,EAAE,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,CAAC;IACrE,IAAI5B,UAAU,CAACiB,OAAO,EAAEW,YAAY,CAAC,EAAE;MACrCvF,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC5BjB,SAAS,CAAC,YAAY,CAAC;MACvBoB,KAAK,CAAC,YAAY,CAAC;MACnBD,UAAU,CAAC,MAAMK,MAAM,CAACgF,OAAO,CAACC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC;MAC7C;IACF;;IAEA;IACAzF,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE2E,OAAO,CAAC;IAC1C5F,SAAS,CAAC,aAAa6C,UAAU,GAAG,CAAC;IACrCzB,KAAK,CAAC,WAAWyB,UAAU,uGAAuG,CAAC;EACrI,CAAC;;EAED;;EAEA;EACA,MAAM6D,sBAAsB,GAAG,MAAAA,CAAA,KAAY;IACzC1F,OAAO,CAACC,GAAG,CAAC,qDAAqD,EAAE1B,aAAa,CAAC;IAEjF,IAAI,CAACI,WAAW,EAAE;MAChB8B,KAAK,CAAC,+DAA+D,CAAC;MACtE;IACF;IAEA,IAAIlC,aAAa,EAAE;MACjB;MACAyB,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;MAC/CzB,gBAAgB,CAAC,KAAK,CAAC;MACvBmB,gBAAgB,CAAC+D,OAAO,GAAG,KAAK,CAAC,CAAC;MAClChF,uBAAuB,CAAC,KAAK,CAAC;MAC9BM,SAAS,CAAC,WAAW,CAAC;;MAEtB;MACA,IAAIC,cAAc,EAAE;QAClB0G,YAAY,CAAC1G,cAAc,CAAC;QAC5BC,iBAAiB,CAAC,IAAI,CAAC;MACzB;MAEA,IAAI;QACFP,WAAW,CAACwE,IAAI,CAAC,CAAC;QAClBxE,WAAW,CAACiH,KAAK,CAAC,CAAC;MACrB,CAAC,CAAC,OAAO3E,KAAK,EAAE;QACdjB,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEgB,KAAK,CAACqB,OAAO,CAAC;MACjE;MAEAlC,KAAK,CAAC,8BAA8B,CAAC;IAEvC,CAAC,MAAM;MACL;MACAJ,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;MAE9C,IAAI;QACF;QACA,IAAIS,SAAS,CAACC,YAAY,IAAID,SAAS,CAACC,YAAY,CAACC,YAAY,EAAE;UACjE,MAAMF,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;YAAEC,KAAK,EAAE;UAAK,CAAC,CAAC;UAC1Db,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;QAChD;MACF,CAAC,CAAC,OAAOgB,KAAK,EAAE;QACdjB,OAAO,CAACiB,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;QACvDR,KAAK,CAAC,yDAAyD,CAAC;QAChE;MACF;MAEAjC,gBAAgB,CAAC,IAAI,CAAC;MACtBmB,gBAAgB,CAAC+D,OAAO,GAAG,IAAI,CAAC,CAAC;MACjC1E,SAAS,CAAC,UAAU,CAAC;;MAErB;MACA6G,0BAA0B,CAAC,CAAC;MAE5BzF,KAAK,CAAC,iDAAiD,CAAC;IAC1D;EACF,CAAC;;EAED;EACA,MAAMyF,0BAA0B,GAAGA,CAAA,KAAM;IACvC,IAAI,CAAClH,WAAW,EAAE;IAElBqB,OAAO,CAACC,GAAG,CAAC,gDAAgD,CAAC;IAE7DtB,WAAW,CAACyC,UAAU,GAAG,IAAI;IAC7BzC,WAAW,CAAC0C,cAAc,GAAG,KAAK;IAClC1C,WAAW,CAAC2C,IAAI,GAAG,OAAO;IAE1B3C,WAAW,CAAC6C,OAAO,GAAG,MAAM;MAC1BxB,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;MACjDvB,uBAAuB,CAAC,IAAI,CAAC;MAC7BM,SAAS,CAAC,iBAAiB,CAAC;IAC9B,CAAC;IAEDL,WAAW,CAAC8C,QAAQ,GAAIC,KAAK,IAAK;MAChC1B,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;MAEvC,IAAIyB,KAAK,CAACC,OAAO,IAAID,KAAK,CAACC,OAAO,CAACC,MAAM,GAAG,CAAC,EAAE;QAC7C,MAAMC,UAAU,GAAGH,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACE,UAAU;QACjD,MAAMG,UAAU,GAAGN,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACK,UAAU;QACjDhC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAE4B,UAAU,EAAE,aAAa,EAAEG,UAAU,CAAC;QAEpE2C,cAAc,CAAC9C,UAAU,CAAC;MAC5B;IACF,CAAC;IAEDlD,WAAW,CAACuD,OAAO,GAAIR,KAAK,IAAK;MAC/B1B,OAAO,CAACiB,KAAK,CAAC,4BAA4B,EAAES,KAAK,CAACT,KAAK,CAAC;MACxDvC,uBAAuB,CAAC,KAAK,CAAC;MAE9B,IAAIgD,KAAK,CAACT,KAAK,KAAK,aAAa,EAAE;QACjCR,KAAK,CAAC,6DAA6D,CAAC;QACpEjC,gBAAgB,CAAC,KAAK,CAAC;QACvBQ,SAAS,CAAC,+BAA+B,CAAC;QAC1C;MACF,CAAC,MAAM,IAAI0C,KAAK,CAACT,KAAK,KAAK,WAAW,EAAE;QACtCjB,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;QAC1DjB,SAAS,CAAC,0BAA0B,CAAC;MACvC,CAAC,MAAM;QACLgB,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEyB,KAAK,CAACT,KAAK,EAAE,sBAAsB,CAAC;QACnEjC,SAAS,CAAC,MAAM0C,KAAK,CAACT,KAAK,kBAAkB,CAAC;MAChD;IACF,CAAC;IAEDtC,WAAW,CAACyD,KAAK,GAAG,MAAM;MACxBpC,OAAO,CAACC,GAAG,CAAC,+CAA+C,EAAEN,gBAAgB,CAAC+D,OAAO,CAAC;MACtFhF,uBAAuB,CAAC,KAAK,CAAC;;MAE9B;MACA,IAAIiB,gBAAgB,CAAC+D,OAAO,EAAE;QAC5B1D,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC;QACtDjB,SAAS,CAAC,kBAAkB,CAAC;;QAE7B;QACA,IAAIC,cAAc,EAAE;UAClB0G,YAAY,CAAC1G,cAAc,CAAC;QAC9B;;QAEA;QACA,MAAM6G,OAAO,GAAG3F,UAAU,CAAC,MAAM;UAC/B,IAAIR,gBAAgB,CAAC+D,OAAO,EAAE;YAC5B,IAAI;cACF1D,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;cAC3CtB,WAAW,CAAC0D,KAAK,CAAC,CAAC;cACnB3D,uBAAuB,CAAC,IAAI,CAAC;cAC7BM,SAAS,CAAC,iBAAiB,CAAC;YAC9B,CAAC,CAAC,OAAOiC,KAAK,EAAE;cACdjB,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEgB,KAAK,CAACqB,OAAO,CAAC;cAC5D,IAAIrB,KAAK,CAACqB,OAAO,CAACyB,QAAQ,CAAC,iBAAiB,CAAC,EAAE;gBAC7C/D,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;gBAC7CvB,uBAAuB,CAAC,IAAI,CAAC;gBAC7BM,SAAS,CAAC,iBAAiB,CAAC;cAC9B,CAAC,MAAM;gBACLgB,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;gBACrDjB,SAAS,CAAC,gBAAgB,CAAC;gBAC3B;gBACAmB,UAAU,CAAC,MAAM;kBACf,IAAIR,gBAAgB,CAAC+D,OAAO,EAAE;oBAC5B,IAAI;sBACF/E,WAAW,CAAC0D,KAAK,CAAC,CAAC;sBACnB3D,uBAAuB,CAAC,IAAI,CAAC;sBAC7BM,SAAS,CAAC,iBAAiB,CAAC;oBAC9B,CAAC,CAAC,OAAO+G,UAAU,EAAE;sBACnB/F,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAE8F,UAAU,CAACzD,OAAO,CAAC;sBACtDtD,SAAS,CAAC,6BAA6B,CAAC;sBACxCR,gBAAgB,CAAC,KAAK,CAAC;sBACvBmB,gBAAgB,CAAC+D,OAAO,GAAG,KAAK;oBAClC;kBACF;gBACF,CAAC,EAAE,IAAI,CAAC;cACV;YACF;UACF;QACF,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;;QAETxE,iBAAiB,CAAC4G,OAAO,CAAC;MAC5B,CAAC,MAAM;QACL9G,SAAS,CAAC,WAAW,CAAC;MACxB;IACF,CAAC;;IAED;IACA,IAAI;MACFgB,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;MAChDtB,WAAW,CAAC0D,KAAK,CAAC,CAAC;IACrB,CAAC,CAAC,OAAOpB,KAAK,EAAE;MACdjB,OAAO,CAACiB,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrD,IAAIA,KAAK,CAACqB,OAAO,CAACyB,QAAQ,CAAC,iBAAiB,CAAC,EAAE;QAC7C/D,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;QAC7CvB,uBAAuB,CAAC,IAAI,CAAC;QAC7BM,SAAS,CAAC,iBAAiB,CAAC;MAC9B,CAAC,MAAM;QACLyB,KAAK,CAAC,uCAAuCQ,KAAK,CAACqB,OAAO,EAAE,CAAC;QAC7D9D,gBAAgB,CAAC,KAAK,CAAC;QACvBQ,SAAS,CAAC,WAAW,CAAC;MACxB;IACF;EACF,CAAC;EAED,IAAI,CAACL,WAAW,EAAE;IAChB,oBACEP,OAAA;MAAK4H,KAAK,EAAE;QAAEC,QAAQ,EAAE,OAAO;QAAEC,MAAM,EAAE,MAAM;QAAEC,KAAK,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAK,CAAE;MAAAC,QAAA,eAC7EjI,OAAA;QAAK4H,KAAK,EAAE;UACVM,UAAU,EAAE,SAAS;UACrBC,KAAK,EAAE,OAAO;UACdC,OAAO,EAAE,MAAM;UACfC,YAAY,EAAE,KAAK;UACnBC,QAAQ,EAAE;QACZ,CAAE;QAAAL,QAAA,GAAC,sBACmB,eAAAjI,OAAA;UAAAuI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,8BAC5B;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;;EAEA;EACA,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvB/G,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;;IAE9C;IACA,IAAI,EAAE,iBAAiB,IAAIO,MAAM,CAAC,EAAE;MAClCC,KAAK,CAAC,8DAA8D,CAAC;MACrE;IACF;;IAEA;IACA,MAAMgC,MAAM,GAAGjC,MAAM,CAACkC,eAAe,CAACC,SAAS,CAAC,CAAC;IACjD3C,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;IACrCD,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEwC,MAAM,CAACb,MAAM,CAAC;IACjD5B,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEJ,kBAAkB,CAAC;IACvDG,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEO,MAAM,CAACkC,eAAe,CAACsE,QAAQ,CAAC;IAC5EhH,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEO,MAAM,CAACkC,eAAe,CAACuE,OAAO,CAAC;IAE1E,IAAIxE,MAAM,CAACb,MAAM,KAAK,CAAC,EAAE;MACvB5B,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;MACrD;MACAO,MAAM,CAACkC,eAAe,CAACC,SAAS,CAAC,CAAC;MAClCxC,UAAU,CAAC,MAAM;QACf,MAAM+G,SAAS,GAAG1G,MAAM,CAACkC,eAAe,CAACC,SAAS,CAAC,CAAC;QACpD3C,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEiH,SAAS,CAACtF,MAAM,CAAC;QACxD,IAAIsF,SAAS,CAACtF,MAAM,GAAG,CAAC,EAAE;UACxBuF,gBAAgB,CAAC,CAAC;QACpB,CAAC,MAAM;UACL1G,KAAK,CAAC,+DAA+D,CAAC;QACxE;MACF,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,MAAM;MACL0G,gBAAgB,CAAC,CAAC;IACpB;EACF,CAAC;;EAED;EACA,MAAMA,gBAAgB,GAAGA,CAAA,KAAM;IAC7BnH,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;IAE1C,IAAI;MACF;MACAO,MAAM,CAACkC,eAAe,CAAC0E,MAAM,CAAC,CAAC;MAE/B,MAAMC,QAAQ,GAAG,8DAA8D;MAC/E,MAAMhE,SAAS,GAAG,IAAIC,wBAAwB,CAAC+D,QAAQ,CAAC;MACxDhE,SAAS,CAACE,IAAI,GAAG,GAAG;MACpBF,SAAS,CAACG,KAAK,GAAG,GAAG;MACrBH,SAAS,CAACI,MAAM,GAAG,GAAG;MACtBJ,SAAS,CAAC/B,IAAI,GAAG,OAAO;MAExB,MAAMmB,MAAM,GAAGjC,MAAM,CAACkC,eAAe,CAACC,SAAS,CAAC,CAAC;MACjD,IAAIF,MAAM,CAACb,MAAM,GAAG,CAAC,EAAE;QACrByB,SAAS,CAACiE,KAAK,GAAG7E,MAAM,CAAC,CAAC,CAAC;QAC3BzC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEwC,MAAM,CAAC,CAAC,CAAC,CAAC8E,IAAI,CAAC;MAChD;MAEAlE,SAAS,CAAC7B,OAAO,GAAG,MAAM;QACxBxB,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;MACnD,CAAC;MAEDoD,SAAS,CAACjB,KAAK,GAAG,MAAM;QACtBpC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;MACrD,CAAC;MAEDoD,SAAS,CAACnB,OAAO,GAAIR,KAAK,IAAK;QAC7B1B,OAAO,CAACiB,KAAK,CAAC,sBAAsB,EAAES,KAAK,CAACT,KAAK,CAAC;QAClDR,KAAK,CAAC,uBAAuBiB,KAAK,CAACT,KAAK,EAAE,CAAC;MAC7C,CAAC;MAEDjB,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;MACzCO,MAAM,CAACkC,eAAe,CAACtC,KAAK,CAACiD,SAAS,CAAC;IAEzC,CAAC,CAAC,OAAOpC,KAAK,EAAE;MACdjB,OAAO,CAACiB,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDR,KAAK,CAAC,0BAA0BQ,KAAK,CAACqB,OAAO,EAAE,CAAC;IAClD;EACF,CAAC;EAED,oBACElE,OAAA;IAAK4H,KAAK,EAAE;MAAEC,QAAQ,EAAE,OAAO;MAAEC,MAAM,EAAE,MAAM;MAAEC,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE;IAAK,CAAE;IAAAC,QAAA,gBAE7EjI,OAAA;MACEoJ,OAAO,EAAEjH,oBAAqB;MAC9ByF,KAAK,EAAE;QACLC,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE,OAAO;QACfC,KAAK,EAAE,KAAK;QACZsB,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE,MAAM;QACdjB,YAAY,EAAE,MAAM;QACpBkB,eAAe,EAAE,SAAS;QAC1BpB,KAAK,EAAE,OAAO;QACdqB,MAAM,EAAE,MAAM;QACdlB,QAAQ,EAAE,MAAM;QAChBmB,MAAM,EAAE,SAAS;QACjBC,SAAS,EAAE;MACb,CAAE;MACFC,KAAK,EAAC,wBAAwB;MAAA1B,QAAA,EAC/B;IAED;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAGT1I,OAAA;MACEoJ,OAAO,EAAEzH,qBAAsB;MAC/BiG,KAAK,EAAE;QACLC,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE,OAAO;QACfC,KAAK,EAAE,KAAK;QACZsB,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE,MAAM;QACdjB,YAAY,EAAE,MAAM;QACpBkB,eAAe,EAAE9H,kBAAkB,GAAG,SAAS,GAAG,MAAM;QACxD0G,KAAK,EAAE,OAAO;QACdqB,MAAM,EAAE/H,kBAAkB,GAAG,mBAAmB,GAAG,gBAAgB;QACnE6G,QAAQ,EAAE,MAAM;QAChBmB,MAAM,EAAE,SAAS;QACjBC,SAAS,EAAEjI,kBAAkB,GAAG,mCAAmC,GAAG,+BAA+B;QACrGmI,UAAU,EAAE,eAAe;QAC3BC,UAAU,EAAE;MACd,CAAE;MACFF,KAAK,EAAElI,kBAAkB,GAAG,mCAAmC,GAAG,kCAAmC;MAAAwG,QAAA,EAEpGxG,kBAAkB,GAAG,IAAI,GAAG;IAAI;MAAA8G,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3B,CAAC,EAGRjH,kBAAkB,iBACjBzB,OAAA;MAAK4H,KAAK,EAAE;QACVC,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE,OAAO;QACfC,KAAK,EAAE,KAAK;QACZG,UAAU,EAAE,SAAS;QACrBC,KAAK,EAAE,OAAO;QACdC,OAAO,EAAE,SAAS;QAClBC,YAAY,EAAE,KAAK;QACnBC,QAAQ,EAAE,KAAK;QACfuB,UAAU,EAAE,MAAM;QAClBC,SAAS,EAAE,QAAQ;QACnBJ,SAAS,EAAE;MACb,CAAE;MAAAzB,QAAA,EAAC;IAEH;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACN,eAGD1I,OAAA;MACEoJ,OAAO,EAAET,UAAW;MACpBf,KAAK,EAAE;QACLC,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE,MAAM;QACdC,KAAK,EAAE,KAAK;QACZsB,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE,MAAM;QACdjB,YAAY,EAAE,MAAM;QACpBkB,eAAe,EAAE,SAAS;QAC1BpB,KAAK,EAAE,OAAO;QACdqB,MAAM,EAAE,MAAM;QACdlB,QAAQ,EAAE,MAAM;QAChBmB,MAAM,EAAE,SAAS;QACjBC,SAAS,EAAE;MACb,CAAE;MACFC,KAAK,EAAC,oBAAoB;MAAA1B,QAAA,EAC3B;IAED;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAGT1I,OAAA;MACEoJ,OAAO,EAAE9B,sBAAuB;MAChCM,KAAK,EAAE;QACLyB,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE,MAAM;QACdjB,YAAY,EAAE,KAAK;QACnBkB,eAAe,EAAEpJ,aAAa,GAAG,SAAS,GAAG,MAAM;QACnDgI,KAAK,EAAE,OAAO;QACdqB,MAAM,EAAErJ,aAAa,GAAG,mBAAmB,GAAG,gBAAgB;QAC9DmI,QAAQ,EAAE,MAAM;QAChBmB,MAAM,EAAE,SAAS;QACjBC,SAAS,EAAEvJ,aAAa,GAAG,mCAAmC,GAAG,gCAAgC;QACjG4J,SAAS,EAAE1J,oBAAoB,GAAG,mBAAmB,GAAG,MAAM;QAC9DuJ,UAAU,EAAE;MACd,CAAE;MACFD,KAAK,EAAExJ,aAAa,GAAG,0CAA0C,GAAG,yCAA0C;MAAA8H,QAAA,EAE7G9H,aAAa,GAAG,IAAI,GAAG;IAAI;MAAAoI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtB,CAAC,eAGT1I,OAAA;MAAK4H,KAAK,EAAE;QACVC,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE,MAAM;QACdC,KAAK,EAAE,KAAK;QACZG,UAAU,EAAE/H,aAAa,GAAG,SAAS,GAAG,OAAO;QAC/CiI,OAAO,EAAE,UAAU;QACnBC,YAAY,EAAE,KAAK;QACnBqB,SAAS,EAAE,2BAA2B;QACtCpB,QAAQ,EAAE,MAAM;QAChB0B,UAAU,EAAE,QAAQ;QACpBC,QAAQ,EAAE,OAAO;QACjBH,SAAS,EAAE,QAAQ;QACnBN,MAAM,EAAErJ,aAAa,GAAG,mBAAmB,GAAG,gBAAgB;QAC9DgI,KAAK,EAAEhI,aAAa,GAAG,SAAS,GAAG;MACrC,CAAE;MAAA8H,QAAA,EACCtH;IAAM;MAAA4H,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC,EAGLvI,aAAa,iBACZH,OAAA;MAAK4H,KAAK,EAAE;QACVC,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE,OAAO;QACfC,KAAK,EAAE,KAAK;QACZG,UAAU,EAAEhG,UAAU,GAAG,SAAS,GAAG7B,oBAAoB,GAAG,SAAS,GAAG,SAAS;QACjF8H,KAAK,EAAE,OAAO;QACdC,OAAO,EAAE,SAAS;QAClBC,YAAY,EAAE,KAAK;QACnBC,QAAQ,EAAE,MAAM;QAChBuB,UAAU,EAAE,MAAM;QAClBC,SAAS,EAAE,QAAQ;QACnBC,SAAS,EAAE1J,oBAAoB,GAAG,mBAAmB,GAAG;MAC1D,CAAE;MAAA4H,QAAA,EACC/F,UAAU,GAAG,aAAa,GAAG7B,oBAAoB,GAAG,cAAc,GAAG;IAAU;MAAAkI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7E,CACN,EAGAjI,WAAW,iBACVT,OAAA;MAAK4H,KAAK,EAAE;QACVC,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE3H,aAAa,GAAG,OAAO,GAAG,OAAO;QACzC4H,KAAK,EAAE,KAAK;QACZG,UAAU,EAAE,SAAS;QACrBE,OAAO,EAAE,SAAS;QAClBC,YAAY,EAAE,KAAK;QACnBC,QAAQ,EAAE,MAAM;QAChB2B,QAAQ,EAAE,OAAO;QACjBC,SAAS,EAAE,YAAY;QACvBV,MAAM,EAAE;MACV,CAAE;MAAAvB,QAAA,GAAC,UACM,EAACxH,WAAW,EAAC,IACtB;IAAA;MAAA8H,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACN,eAED1I,OAAA;MAAOmK,GAAG;MAAAlC,QAAA,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAACxI,EAAA,CA93BID,gBAAgB;EAAA,QAYHL,WAAW,EACoBC,iBAAiB,EAmBxBC,qBAAqB;AAAA;AAAAsK,EAAA,GAhC1DnK,gBAAgB;AAg4BtB,eAAeA,gBAAgB;AAAC,IAAAmK,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}